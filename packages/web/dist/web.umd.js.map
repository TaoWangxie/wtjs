{"version":3,"file":"web.umd.js","sources":["../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/createClass.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/inherits.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../shared/src/config.ts","../../shared/src/constant.ts","../../utils/src/is.ts","../../utils/src/global.ts","../../utils/src/logger.ts","../../utils/src/helpers.ts","../../utils/src/browser.ts","../../utils/src/queue.ts","../../utils/src/Severity.ts","../../utils/src/errorId.ts","../../core/src/breadcrumb.ts","../../core/src/subscribe.ts","../../utils/src/exception.ts","../../core/src/baseClient.ts","../../core/src/baseOptions.ts","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/typeof.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/regenerator/index.js","../../core/src/baseTransport.ts","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/get.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../browser/src/browserOptions.ts","../../browser/src/browserTransport.ts","../../browser/src/browserClient.ts","../../browser/src/utils.ts","../../browser/src/plugins/xhr.ts","../../utils/src/httpStatus.ts","../../browser/src/plugins/fetch.ts","../../browser/src/plugins/dom.ts","../../browser/src/plugins/error.ts","../../browser/src/plugins/hashRoute.ts","../../browser/src/plugins/historyRoute.ts","../../browser/src/plugins/console.ts","../../browser/src/plugins/unhandlerejecttion.ts","../../browser/src/index.ts","../../vue/src/vuePlugin.ts","../../vue/src/helper.ts","../../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js","../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react-jsx-runtime.production.min.js","../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react-jsx-runtime.development.js","../../react/src/components/provider.tsx","../../react/src/components/ErrorBoundary.tsx"],"sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { version } from '../package.json'\n\nexport const SDK_NAME = 'mitojs'\nexport const SDK_VERSION = version\n","import { BrowserBreadcrumbTypes, BrowserEventTypes } from './browser'\nimport { WxBreadcrumbTypes, WxEventTypes } from './wx'\n\n/**\n * 上报错误类型\n */\nexport const enum ErrorTypes {\n  UNKNOWN = 'UNKNOWN',\n  UNKNOWN_FUNCTION = 'UNKNOWN_FUNCTION',\n  JAVASCRIPT = 'JAVASCRIPT',\n  LOG = 'LOG',\n  HTTP = 'HTTP',\n  VUE = 'VUE',\n  REACT = 'REACT',\n  RESOURCE = 'RESOURCE',\n  PROMISE = 'PROMISE',\n  ROUTE = 'ROUTE'\n}\n\n/**\n * 用户行为栈事件类型\n */\nexport type BreadcrumbTypes = BrowserBreadcrumbTypes | WxBreadcrumbTypes | BaseBreadcrumbTypes\n\nexport const enum BaseBreadcrumbTypes {\n  VUE = 'Vue',\n  REACT = 'React'\n}\n\n/**\n * 用户行为类型\n */\nexport const enum BREADCRUMBCATEGORYS {\n  HTTP = 'http',\n  USER = 'user',\n  DEBUG = 'debug',\n  EXCEPTION = 'exception',\n  LIFECYCLE = 'lifecycle'\n}\n\n/**\n * 所有重写事件类型整合\n */\nexport type EventTypes = BrowserEventTypes | WxEventTypes | BaseEventTypes\n\nexport const MitoLog = 'Mito.log'\nexport const MitoLogEmptyMsg = 'empty.msg'\nexport const MitoLogEmptyTag = 'empty.tag'\n\nexport const enum BaseEventTypes {\n  VUE = 'vue'\n}\n\nexport const enum HttpTypes {\n  XHR = 'xhr',\n  FETCH = 'fetch'\n}\n\nexport const enum MethodTypes {\n  Get = 'GET',\n  Post = 'POST',\n  Put = 'PUT',\n  Delete = 'DELETE'\n}\n\nexport const enum HTTP_CODE {\n  BAD_REQUEST = 400,\n  UNAUTHORIZED = 401,\n  INTERNAL_EXCEPTION = 500\n}\n\nexport const enum ToStringTypes {\n  String = 'String',\n  Number = 'Number',\n  Boolean = 'Boolean',\n  RegExp = 'RegExp',\n  Null = 'Null',\n  Undefined = 'Undefined',\n  Symbol = 'Symbol',\n  Object = 'Object',\n  Array = 'Array',\n  process = 'process',\n  Window = 'Window',\n  Function = 'Function'\n}\n\nexport const ERROR_TYPE_RE = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/\nconst globalVar = {\n  isLogAddBreadcrumb: true,\n  crossOriginThreshold: 1000\n}\n\nexport const Silent = 'silent'\nexport { globalVar }\n","import { ToStringTypes } from '@wtjs/shared'\n\nexport const nativeToString = Object.prototype.toString\nexport function isType(type: string) {\n  return function (value: any): boolean {\n    return nativeToString.call(value) === `[object ${type}]`\n  }\n}\n\n/**\n * 检测变量类型\n * @param type\n */\nexport const variableTypeDetection = {\n  isNumber: isType(ToStringTypes.Number),\n  isString: isType(ToStringTypes.String),\n  isBoolean: isType(ToStringTypes.Boolean),\n  isNull: isType(ToStringTypes.Null),\n  isUndefined: isType(ToStringTypes.Undefined),\n  isSymbol: isType(ToStringTypes.Symbol),\n  isFunction: isType(ToStringTypes.Function),\n  isObject: isType(ToStringTypes.Object),\n  isArray: isType(ToStringTypes.Array),\n  isProcess: isType(ToStringTypes.process),\n  isWindow: isType(ToStringTypes.Window)\n}\n\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {../link isError}.\n *\n * ../param wat A value to be checked.\n * ../returns A boolean representing the result.\n */\nexport function isError(wat: any): boolean {\n  switch (nativeToString.call(wat)) {\n    case '[object Error]':\n      return true\n    case '[object Exception]':\n      return true\n    case '[object DOMException]':\n      return true\n    default:\n      return isInstanceOf(wat, Error)\n  }\n}\n\n/**\n * 检查是否是空对象\n *\n * @export\n * @param {Object} obj 待检测的对象\n * @return {*}  {boolean}\n */\nexport function isEmptyObject(obj: Object): boolean {\n  return variableTypeDetection.isObject(obj) && Object.keys(obj).length === 0\n}\n\n/**\n * 检测是否是空字符、undefined、null\n *\n * @export\n * @param {*} wat\n * @return {*}  {boolean}\n */\nexport function isEmpty(wat: any): boolean {\n  return (variableTypeDetection.isString(wat) && wat.trim() === '') || wat === undefined || wat === null\n}\n\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {../link isInstanceOf}.\n *\n * ../param wat A value to be checked.\n * ../param base A constructor to be used in a check.\n * ../returns A boolean representing the result.\n */\nexport function isInstanceOf(wat: any, base: any): boolean {\n  try {\n    // tslint:disable-next-line:no-unsafe-any\n    return wat instanceof base\n  } catch (_e) {\n    return false\n  }\n}\n\nexport function isExistProperty(obj: Object, key: string | number | symbol): boolean {\n  return Object.prototype.hasOwnProperty.call(obj, key)\n}\n","import { EventTypes } from '@wtjs/shared'\nimport { Logger } from './logger'\nimport { DeviceInfo } from '@wtjs/types'\nimport { variableTypeDetection } from './is'\n\n/**\n *MITO的全局变量\n *\n * @export\n * @interface MitoSupport\n */\nexport interface MitoSupport {\n  logger: Logger\n  replaceFlag: { [key in EventTypes]?: boolean }\n  record?: any[]\n  deviceInfo?: DeviceInfo\n}\n\ninterface MITOGlobal {\n  console?: Console\n  __MITO__?: MitoSupport\n}\n\nexport const isNodeEnv = variableTypeDetection.isProcess(typeof process !== 'undefined' ? process : 0)\n\nexport const isWxMiniEnv =\n//@ts-ignore\n  variableTypeDetection.isObject(typeof wx !== 'undefined' ? wx : 0) &&\n  //@ts-ignore\n  variableTypeDetection.isFunction(typeof App !== 'undefined' ? App : 0)\n\nexport const isBrowserEnv = variableTypeDetection.isWindow(typeof window !== 'undefined' ? window : 0)\n/**\n * 获取全局变量\n *\n * ../returns Global scope object\n */\nexport function getGlobal<T>() {\n  if (isBrowserEnv) return window as unknown as MITOGlobal & T\n  //@ts-ignore\n  if (isWxMiniEnv) return wx as unknown as MITOGlobal & T\n  // it's true when run e2e\n  if (isNodeEnv) return process as unknown as MITOGlobal & T\n}\n// whether it is right use &\n//@ts-ignore\nconst _global = getGlobal<Window & WechatMiniprogram.Wx>()\nconst _support = getGlobalMitoSupport()\n/**\n * 获取全局变量__MITO__的引用地址\n *\n * @return {*}  {MitoSupport}\n */\nfunction getGlobalMitoSupport(): MitoSupport {\n  _global.__MITO__ = _global.__MITO__ || ({} as MitoSupport)\n  return _global.__MITO__\n}\n\nexport { _global, _support }\n\n// _support.replaceFlag = _support.replaceFlag || {}\n// const replaceFlag = _support.replaceFlag\n// export function setFlag(replaceType: EventTypes, isSet: boolean): void {\n//   if (replaceFlag[replaceType]) return\n//   replaceFlag[replaceType] = isSet\n// }\n\n// export function getFlag(replaceType: EventTypes): boolean {\n//   return replaceFlag[replaceType] ? true : false\n// }\n\nexport function supportsHistory(): boolean {\n  // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n  const chrome = (_global as any).chrome\n  const isChromePackagedApp = chrome && chrome.app && chrome.app.runtime\n  const hasHistoryApi = 'history' in _global && !!_global.history.pushState && !!_global.history.replaceState\n  return !isChromePackagedApp && hasHistoryApi\n}\n","import { _global, _support } from './global'\nconst PREFIX = 'MITO Logger'\n\nexport class Logger {\n  private enabled = false\n  private _console: Console = {} as Console\n  constructor() {\n    _global.console = console || _global.console\n    if (console || _global.console) {\n      const logType = ['log', 'debug', 'info', 'warn', 'error', 'assert']\n      logType.forEach((level) => {\n        if (!(level in _global.console)) return\n        this._console[level] = _global.console[level]\n      })\n    }\n  }\n  disable(): void {\n    this.enabled = false\n  }\n\n  bindOptions(debug: boolean): void {\n    this.enabled = debug ? true : false\n  }\n\n  enable(): void {\n    this.enabled = true\n  }\n\n  getEnableStatus() {\n    return this.enabled\n  }\n\n  log(...args: any[]): void {\n    if (!this.enabled) {\n      return\n    }\n    this._console.log(`${PREFIX}[Log]:`, ...args)\n  }\n  warn(...args: any[]): void {\n    if (!this.enabled) {\n      return\n    }\n    this._console.warn(`${PREFIX}[Warn]:`, ...args)\n  }\n\n  /**\n   * error不需要开启enable也要打印出来，提示用户错误信息\n   *\n   * @param {...any[]} args\n   * @memberof Logger\n   */\n  error(...args: any[]): void {\n    this._console.error(`${PREFIX}[Error]:`, ...args)\n  }\n}\n\nconst logger = _support.logger || (_support.logger = new Logger())\nexport { logger }\n","import { IAnyObject } from '@wtjs/types'\nimport { globalVar, ToStringTypes } from '@wtjs/shared'\nimport { logger } from './logger'\nimport { nativeToString, variableTypeDetection } from './is'\nimport { isWxMiniEnv, isBrowserEnv } from './global'\n\nexport function getLocationHref(): string {\n  if (typeof document === 'undefined' || document.location == null) return ''\n  return document.location.href\n}\n\nexport function getUrlWithEnv(): string {\n  if (isWxMiniEnv) return getCurrentRoute()\n  if (isBrowserEnv) return getLocationHref()\n  return ''\n}\n\n// 用到所有事件的名称\ntype TotalEventName = keyof GlobalEventHandlersEventMap | keyof XMLHttpRequestEventTargetEventMap | keyof WindowEventMap\n\n/**\n * 添加事件监听器\n *\n * @export\n * @param {{ addEventListener: Function }} target 目标对象\n * @param {TotalEventName} eventName 目标对象上的事件名\n * @param {Function} handler 回调函数\n * @param {(boolean | unknown)} [opitons=false] useCapture默认为false\n */\nexport function on(\n  target: { addEventListener: Function },\n  eventName: TotalEventName,\n  handler: Function,\n  opitons: boolean | unknown = false\n): void {\n  target.addEventListener(eventName, handler, opitons)\n}\n\n/**\n * 重写对象上面的某个属性\n *\n * @export\n * @param {IAnyObject} source 需要被重写的对象\n * @param {string} name 需要被重写对象的key\n * @param {(...args: any[]) => any} replacement 以原有的函数作为参数，执行并重写原有函数\n * @param {boolean} [isForced=false] 是否强制重写（可能原先没有该属性）\n */\nexport function replaceOld(source: IAnyObject, name: string, replacement: (...args: any[]) => any, isForced = false): void {\n  if (source === undefined) return\n  if (name in source || isForced) {\n    const original = source[name]\n    const wrapped = replacement(original)\n    if (typeof wrapped === 'function') {\n      source[name] = wrapped\n    }\n  }\n}\n\n/**\n * 用&分割对象，返回a=1&b=2\n * ../param obj 需要拼接的对象\n */\n// export function splitObjToQuery(obj: Record<string, unknown>): string {\n//   return Object.entries(obj).reduce((result, [key, value], index) => {\n//     if (index !== 0) {\n//       result += '&'\n//     }\n//     const valueStr = variableTypeDetection.isObject(value) || variableTypeDetection.isArray(value) ? JSON.stringify(value) : value\n//     result += `${key}=${valueStr}`\n//     return result\n//   }, '')\n// }\n\nexport const defaultFunctionName = '<anonymous>'\n/**\n * 需要获取函数名，匿名则返回<anonymous>\n * ../param {unknown} fn 需要获取函数名的函数本体\n * ../returns 返回传入的函数的函数名\n */\nexport function getFunctionName(fn: unknown): string {\n  if (!fn || typeof fn !== 'function') {\n    return defaultFunctionName\n  }\n  return fn.name || defaultFunctionName\n}\n\n// 函数防抖\n/**\n *\n * ../param fn 需要防抖的函数\n * ../param delay 防抖的时间间隔\n * ../param isImmediate 是否需要立即执行，默认为false，第一次是不执行的\n * ../returns 返回一个包含防抖功能的函数\n */\n// export const debounce = (fn: voidFun, delay: number, isImmediate = false): voidFun => {\n//   let timer = null\n//   return function (...args: any) {\n//     if (isImmediate) {\n//       fn.apply(this, args)\n//       isImmediate = false\n//       return\n//     }\n//     clearTimeout(timer)\n//     timer = setTimeout(() => {\n//       fn.apply(this, args)\n//     }, delay)\n//   }\n// }\n\n/**\n * 函数节流\n *\n * @export\n * @param {Function} fn 需要节流的函数\n * @param {number} delay 节流的时间间隔\n * @return {*}  {Function} 返回一个包含节流功能的函数\n */\nexport function throttle(fn: Function, delay: number): Function {\n  let canRun = true\n  return function (...args: any) {\n    if (!canRun) return\n    fn.apply(this, args)\n    canRun = false\n    setTimeout(() => {\n      canRun = true\n    }, delay)\n  }\n}\n\n/**\n * 原子字符中是否包含目标字符\n *\n * @export\n * @param {string} origin 原字符\n * @param {string} target 目标字符\n * @return {*}  {boolean}\n */\nexport function isInclude(origin: string, target: string): boolean {\n  return !!~origin.indexOf(target)\n}\n\n/**\n * 获取当前的时间戳\n *\n * @export\n * @return {*}  {number}\n */\nexport function getTimestamp(): number {\n  return Date.now()\n}\n\nexport function toStringAny(target: any, type: ToStringTypes): boolean {\n  return nativeToString.call(target) === `[object ${type}]`\n}\n\nexport function toStringValidateOption(target: any, targetName: string, expectType: ToStringTypes): boolean {\n  if (toStringAny(target, expectType)) return true\n  typeof target !== 'undefined' && logger.error(`${targetName}期望传入:${expectType}类型，当前是:${nativeToString.call(target)}类型`)\n  return false\n}\n\n/**\n * 如果用户输入console，并且logger是打开的会造成无限递归，执行callback前，会把监听console的行为关掉\n *\n * @export\n * @param {Function} callback\n */\nexport function silentConsoleScope(callback: Function) {\n  globalVar.isLogAddBreadcrumb = false\n  callback()\n  globalVar.isLogAddBreadcrumb = true\n}\n\nexport function generateUUID(): string {\n  let d = new Date().getTime()\n  const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (d + Math.random() * 16) % 16 | 0\n    d = Math.floor(d / 16)\n    return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16)\n  })\n  return uuid\n}\n\nexport function unknownToString(target: unknown): string {\n  if (variableTypeDetection.isString(target)) {\n    return target as string\n  }\n  if (variableTypeDetection.isUndefined(target)) {\n    return 'undefined'\n  }\n  return JSON.stringify(target)\n}\n\nexport function getBigVersion(version: string) {\n  return Number(version.split('.')[0])\n}\n\n/**\n * 给url添加query\n * @param url\n * @param query\n */\nexport function setUrlQuery(url: string, query: object) {\n  const queryArr = []\n  Object.keys(query).forEach((k) => {\n    queryArr.push(`${k}=${query[k]}`)\n  })\n  if (url.indexOf('?') !== -1) {\n    url = `${url}&${queryArr.join('&')}`\n  } else {\n    url = `${url}?${queryArr.join('&')}`\n  }\n  return url\n}\n\nexport function interceptStr(str: string, interceptLength: number): string {\n  if (variableTypeDetection.isString(str)) {\n    return str.slice(0, interceptLength) + (str.length > interceptLength ? `;slice the first ${interceptLength} characters` : '')\n  }\n  return ''\n}\n\n/**\n * 获取wx当前route的方法\n * 必须是在进入Page或Component构造函数内部才能够获取到currentPages\n * 否则都是在注册Page和Component时执行的代码，此时url默认返回'App'\n */\nexport function getCurrentRoute() {\n  //@ts-ignore\n  if (!variableTypeDetection.isFunction(getCurrentPages)) {\n    return ''\n  }\n  //@ts-ignore\n  const pages = getCurrentPages() // 在App里调用该方法，页面还没有生成，长度为0\n  if (!pages.length) {\n    return 'App'\n  }\n  const currentPage = pages.pop()\n  return setUrlQuery(currentPage.route, currentPage.options)\n}\n\n/**\n *将传入的字符串的首字母改为大写，其他不变\n *\n * @export\n * @param {string} str 原字符\n * @return {*}  {string}\n * @example xhr => Xhr\n */\nexport function firstStrtoUppercase(str: string): string {\n  return str.replace(/\\b(\\w)(\\w*)/g, function ($0: string, $1: string, $2: string) {\n    return `${$1.toUpperCase()}${$2}`\n  })\n}\n\n/**\n *将传入的字符串的首字母改为小写，其他不变\n *\n * @export\n * @param {string} str 原字符\n * @return {*}  {string}\n * @example Xhr => xhr\n */\nexport function firstStrtoLowerCase(str: string): string {\n  return str.replace(/\\b(\\w)(\\w*)/g, function ($0: string, $1: string, $2: string) {\n    return `${$1.toLowerCase()}${$2}`\n  })\n}\n\n/**\n * 安全的转换对象，包括循环引用，如果是循环引用就返回Circular\n *\n * @export\n * @param {object} obj 需要转换的对象\n * @return {*}  {string}\n */\nexport function safeStringify(obj: object): string {\n  const set = new Set()\n  const str = JSON.stringify(obj, function (_key, value) {\n    if (set.has(value)) {\n      return 'Circular'\n    }\n    typeof value === 'object' && set.add(value)\n    return value\n  })\n  set.clear()\n  return str\n}\n\n/**\n * 解决Vue3抛出的proxy对象循环引用的问题\n *\n * @export\n * @template T\n * @param {IAnyObject} obj\n * @return {*}  {T}\n */\nexport function getObjectWithForIn<T = IAnyObject>(obj: IAnyObject): T {\n  if (!variableTypeDetection.isObject(obj)) return obj as unknown as T\n  const result = {}\n  for (const key in obj) {\n    result[key] = obj[key]\n  }\n  return result as T\n}\n\nexport function validateOptionsAndSet(this: any, targetArr: [any, string, ToStringTypes][]) {\n  targetArr.forEach(\n    ([target, targetName, expectType]) => toStringValidateOption(target, targetName, expectType) && (this[targetName] = target)\n  )\n}\n\nexport function sleepRun(fn: () => void, delay = 200) {\n  setTimeout(() => {\n    fn()\n  }, delay)\n}\n","import { BREADCRUMBCATEGORYS, BrowserBreadcrumbTypes, ErrorTypes } from '@wtjs/shared'\nimport { getTimestamp, getUrlWithEnv } from './helpers'\nimport { Severity } from './Severity'\n\n/**\n * 返回包含id、class、innerTextde字符串的标签\n * @param target html节点\n */\nexport function htmlElementAsString(target: HTMLElement): string {\n  const tagName = target.tagName.toLowerCase()\n  if (tagName === 'body') {\n    return null\n  }\n  let classNames = target.classList.value\n  classNames = classNames !== '' ? ` class=\"${classNames}\"` : ''\n  const id = target.id ? ` id=\"${target.id}\"` : ''\n  const innerText = target.innerText\n  return `<${tagName}${id}${classNames !== '' ? classNames : ''}>${innerText}</${tagName}>`\n}\n\n/**\n * 将地址字符串转换成对象\n * @returns 返回一个对象\n */\nexport function parseUrlToObj(url: string): {\n  host?: string\n  path?: string\n  protocol?: string\n  relative?: string\n} {\n  if (!url) {\n    return {}\n  }\n\n  // eslint-disable-next-line no-useless-escape\n  const match = url.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/)\n\n  if (!match) {\n    return {}\n  }\n\n  const query = match[6] || ''\n  const fragment = match[8] || ''\n  return {\n    host: match[4],\n    path: match[5],\n    protocol: match[2],\n    relative: match[5] + query + fragment // everything minus origin\n  }\n}\n\n/**\n * 根据browser行为类型返回种类\n *\n * @export\n * @param {BrowserBreadcrumbTypes} type\n * @return {*}  {BREADCRUMBCATEGORYS}\n */\nexport function getBreadcrumbCategoryInBrowser(type: BrowserBreadcrumbTypes): BREADCRUMBCATEGORYS {\n  switch (type) {\n    case BrowserBreadcrumbTypes.XHR:\n    case BrowserBreadcrumbTypes.FETCH:\n      return BREADCRUMBCATEGORYS.HTTP\n    case BrowserBreadcrumbTypes.CLICK:\n    case BrowserBreadcrumbTypes.ROUTE:\n      return BREADCRUMBCATEGORYS.USER\n    case BrowserBreadcrumbTypes.CUSTOMER:\n    case BrowserBreadcrumbTypes.CONSOLE:\n      return BREADCRUMBCATEGORYS.DEBUG\n    case BrowserBreadcrumbTypes.UNHANDLEDREJECTION:\n    case BrowserBreadcrumbTypes.CODE_ERROR:\n    case BrowserBreadcrumbTypes.RESOURCE:\n    default:\n      return BREADCRUMBCATEGORYS.EXCEPTION\n  }\n}\n\n/**\n * 解析error的stack，并返回args、column、line、func、url:\n * wx AppOnError use too\n * @param ex\n * @param level\n */\nexport function extractErrorStack(ex: any, level: Severity) {\n  const normal = {\n    time: getTimestamp(),\n    url: getUrlWithEnv(),\n    name: ex.name,\n    level,\n    message: ex.message\n  }\n  if (typeof ex.stack === 'undefined' || !ex.stack) {\n    return normal\n  }\n\n  const chrome =\n      /^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,\n    gecko =\n      /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i,\n    winjs = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i,\n    // Used to additionally parse URL/line/column from eval frames\n    geckoEval = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,\n    chromeEval = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,\n    lines = ex.stack.split('\\n'),\n    stack = []\n\n  let submatch, parts, element\n  // reference = /^(.*) is undefined$/.exec(ex.message)\n\n  for (let i = 0, j = lines.length; i < j; ++i) {\n    if ((parts = chrome.exec(lines[i]))) {\n      const isNative = parts[2] && parts[2].indexOf('native') === 0 // start of line\n      const isEval = parts[2] && parts[2].indexOf('eval') === 0 // start of line\n      if (isEval && (submatch = chromeEval.exec(parts[2]))) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1] // url\n        parts[3] = submatch[2] // line\n        parts[4] = submatch[3] // column\n      }\n      element = {\n        url: !isNative ? parts[2] : null,\n        func: parts[1] || ErrorTypes.UNKNOWN_FUNCTION,\n        args: isNative ? [parts[2]] : [],\n        line: parts[3] ? +parts[3] : null,\n        column: parts[4] ? +parts[4] : null\n      }\n    } else if ((parts = winjs.exec(lines[i]))) {\n      element = {\n        url: parts[2],\n        func: parts[1] || ErrorTypes.UNKNOWN_FUNCTION,\n        args: [],\n        line: +parts[3],\n        column: parts[4] ? +parts[4] : null\n      }\n    } else if ((parts = gecko.exec(lines[i]))) {\n      const isEval = parts[3] && parts[3].indexOf(' > eval') > -1\n      if (isEval && (submatch = geckoEval.exec(parts[3]))) {\n        // throw out eval line/coluqqqqqqqqqqqqqqqqqqqqqqqqqqqqmn and use top-most line number\n        parts[3] = submatch[1]\n        parts[4] = submatch[2]\n        parts[5] = null // no column when eval\n      } else if (i === 0 && !parts[5] && typeof ex.columnNumber !== 'undefined') {\n        // FireFox uses this awesome columnNumber property for its top frame\n        // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n        // so adding 1\n        // NOTE: this hack doesn't work if top-most frame is eval\n        stack[0].column = ex.columnNumber + 1\n      }\n      element = {\n        url: parts[3],\n        func: parts[1] || ErrorTypes.UNKNOWN_FUNCTION,\n        args: parts[2] ? parts[2].split(',') : [],\n        line: parts[4] ? +parts[4] : null,\n        column: parts[5] ? +parts[5] : null\n      }\n    } else {\n      continue\n    }\n\n    if (!element.func && element.line) {\n      element.func = ErrorTypes.UNKNOWN_FUNCTION\n    }\n\n    stack.push(element)\n  }\n\n  if (!stack.length) {\n    return null\n  }\n  return {\n    ...normal,\n    stack: stack\n  }\n}\n","import { _global } from './global'\nexport class Queue {\n  private readonly micro: Promise<void>\n  private stack: any[] = []\n  private isFlushing = false\n  constructor() {\n    if (!('Promise' in _global)) return\n    this.micro = Promise.resolve()\n  }\n  addTask(fn: () => void): void {\n    if (typeof fn !== 'function') return\n    if (!('Promise' in _global)) {\n      fn()\n      return\n    }\n    this.stack.push(fn)\n    if (!this.isFlushing) {\n      this.isFlushing = true\n      this.micro.then(() => this.flushStack())\n    }\n  }\n  clear() {\n    this.stack = []\n  }\n  getStack() {\n    return this.stack\n  }\n  flushStack(): void {\n    const temp = this.stack.slice(0)\n    this.stack.length = 0\n    this.isFlushing = false\n    for (const fn of temp) {\n      fn()\n    }\n  }\n  // rollup queue\n}\n","/** 等级程度枚举 */\nexport enum Severity {\n  Else = 'else',\n  Error = 'error',\n  Warning = 'warning',\n  Info = 'info',\n  Debug = 'debug',\n  /** 上报的错误等级 */\n  Low = 'low',\n  Normal = 'normal',\n  High = 'high',\n  Critical = 'critical'\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace Severity {\n  /**\n   * Converts a string-based level into a {@link Severity}.\n   *\n   * @param level string representation of Severity\n   * @returns Severity\n   */\n  export function fromString(level: string): Severity {\n    switch (level) {\n      case 'debug':\n        return Severity.Debug\n      case 'info':\n      case 'log':\n      case 'assert':\n        return Severity.Info\n      case 'warn':\n      case 'warning':\n        return Severity.Warning\n      case Severity.Low:\n      case Severity.Normal:\n      case Severity.High:\n      case Severity.Critical:\n      case 'error':\n        return Severity.Error\n      default:\n        return Severity.Else\n    }\n  }\n}\n","import { ReportDataType } from '@wtjs/types'\nimport { BrowserEventTypes, ErrorTypes } from '@wtjs/shared'\nimport { variableTypeDetection } from './is'\nconst allErrorNumber: unknown = {}\n/**\n * generate error unique Id\n *\n * @export\n * @param {ReportDataType} data 上报的数据结构\n * @param {string} apikey 项目的唯一key\n * @param {number} maxDuplicateCount init配置项，最多可重复上报同一个错误的次数\n * @return {*}  {(number | null)}\n */\nexport function createErrorId(data: ReportDataType, apikey: string, maxDuplicateCount: number): number | null {\n  let id: any\n  switch (data.type) {\n    case ErrorTypes.HTTP:\n      id = data.type + data.request.method + data.response.status + getRealPath(data.request.url) + apikey\n      break\n    case ErrorTypes.JAVASCRIPT:\n    case ErrorTypes.VUE:\n    case ErrorTypes.REACT:\n      id = data.type + data.name + data.message + apikey\n      break\n    case ErrorTypes.LOG:\n      id = data.customTag + data.type + data.name + apikey\n      break\n    case ErrorTypes.PROMISE:\n      id = generatePromiseErrorId(data, apikey)\n      break\n    default:\n      id = data.type + data.message + apikey\n      break\n  }\n  id = hashCode(id)\n  if (allErrorNumber[id] >= maxDuplicateCount) {\n    return null\n  }\n  if (typeof allErrorNumber[id] === 'number') {\n    allErrorNumber[id]++\n  } else {\n    allErrorNumber[id] = 1\n  }\n\n  return id\n}\n/**\n * 如果是UNHANDLEDREJECTION，则按照项目apikey来生成\n * 如果是其他的，按照当前页面来生成\n * @param data\n * @param originUrl\n */\nfunction generatePromiseErrorId(data: ReportDataType, apikey: string) {\n  const locationUrl = getRealPath(data.url)\n  if (data.name === BrowserEventTypes.UNHANDLEDREJECTION) {\n    return data.type + stringToObjAndOrder(data.message) + apikey\n  }\n  return data.type + data.name + stringToObjAndOrder(data.message) + locationUrl\n}\n\nexport function sortObjByKey<T = object>(obj: T): T {\n  return Object.keys(obj)\n    .sort()\n    .reduce((total, key) => {\n      if (variableTypeDetection.isObject(obj[key])) {\n        total[key] = sortObjByKey(obj[key])\n      } else {\n        total[key] = obj[key]\n      }\n      return total\n    }, {}) as T\n}\n\n/**\n * sort object keys\n * ../param reason promise.reject\n */\nexport function stringToObjAndOrder(reason: string) {\n  try {\n    if (/\\{.*\\}/.test(reason)) {\n      let obj = JSON.parse(reason)\n      obj = sortObjByKey(obj)\n      return JSON.stringify(obj)\n    }\n    return reason\n  } catch (error) {\n    return reason\n  }\n}\n\n/**\n *\n * 获取去掉query后的地主\n * @export\n * @param {string} url 地址\n * @return {*}  {string}\n * @example http://.../project?id=1#a => http://.../project  http://.../id/123=> http://.../id/{param}\n */\nexport function getRealPath(url: string): string {\n  return url\n    .replace(/[?#].*$/, '')\n    .replace(/\\/(\\d+)\\//g, '/{param}/$1')\n    .replace(/\\/\\d+([/]*$)/g, '/{param}$1')\n}\n\n/**\n *\n * @param url\n */\nexport function getFlutterRealOrigin(url: string): string {\n  // for apple\n  return removeHashPath(getFlutterRealPath(url))\n}\n\n/**\n * 获取flutter的原始地址：每个用户的文件夹hash不同\n * @param url\n */\nexport function getFlutterRealPath(url: string): string {\n  // for apple\n  return url.replace(/(\\S+)(\\/Documents\\/)(\\S*)/, `$3`)\n}\n\nexport function removeHashPath(url: string): string {\n  return url.replace(/(\\S+)(\\/#\\/)(\\S*)/, `$1`)\n}\n\n/**\n * 根据字符串生成hashcode\n *\n * @export\n * @param {string} str\n * @return {*}  {number} 可为正数和负数\n */\nexport function hashCode(str: string): number {\n  let hash = 0\n  if (str.length == 0) return hash\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i)\n    hash = (hash << 5) - hash + char\n    hash = hash & hash\n  }\n  return hash\n}\n","import { ToStringTypes } from '@wtjs/shared'\nimport { logger, getTimestamp, silentConsoleScope, toStringValidateOption } from '@wtjs/utils'\nimport { BaseOptionsFieldsIntegrationType, BreadcrumbPushData } from '@wtjs/types'\n\n/**\n * 用户行为栈存储，实体类\n *\n * @export\n * @class Breadcrumb\n * @template O\n */\nexport class Breadcrumb<O extends BaseOptionsFieldsIntegrationType = BaseOptionsFieldsIntegrationType> {\n  private maxBreadcrumbs = 10\n  private beforePushBreadcrumb: unknown = null\n  private stack: BreadcrumbPushData[] = []\n  constructor(options: Partial<O> = {}) {\n    this.bindOptions(options)\n  }\n  /**\n   * 添加用户行为栈\n   *\n   * @param {BreadcrumbPushData} data\n   * @memberof Breadcrumb\n   */\n  push(data: BreadcrumbPushData): BreadcrumbPushData[] {\n    if (typeof this.beforePushBreadcrumb === 'function') {\n      let result: BreadcrumbPushData = null\n      const beforePushBreadcrumb = this.beforePushBreadcrumb\n      silentConsoleScope(() => {\n        result = beforePushBreadcrumb.call(this, this, data)\n      })\n      if (!result) return this.stack\n      return this.immediatePush(result)\n    }\n    return this.immediatePush(data)\n  }\n\n  private immediatePush(data: BreadcrumbPushData): BreadcrumbPushData[] {\n    data.time || (data.time = getTimestamp())\n    if (this.stack.length >= this.maxBreadcrumbs) {\n      this.shift()\n    }\n    this.stack.push(data)\n    // make sure xhr fetch is behind button click\n    this.stack.sort((a, b) => a.time - b.time)\n    logger.log(this.stack)\n    return this.stack\n  }\n\n  private shift(): boolean {\n    return this.stack.shift() !== undefined\n  }\n\n  clear(): void {\n    this.stack = []\n  }\n\n  getStack(): BreadcrumbPushData[] {\n    return this.stack\n  }\n\n  bindOptions(options: Partial<O> = {}): void {\n    const { maxBreadcrumbs, beforePushBreadcrumb } = options\n    toStringValidateOption(maxBreadcrumbs, 'maxBreadcrumbs', ToStringTypes.Number) && (this.maxBreadcrumbs = maxBreadcrumbs)\n    toStringValidateOption(beforePushBreadcrumb, 'beforePushBreadcrumb', ToStringTypes.Function) &&\n      (this.beforePushBreadcrumb = beforePushBreadcrumb)\n  }\n}\n","import { getFunctionName, logger, nativeTryCatch } from '@wtjs/utils'\n\ntype MonitorCallback = (data: any) => void\n/**\n * 发布订阅类\n *\n * @export\n * @class Subscribe\n * @template T 事件枚举\n */\nexport class Subscribe<T> {\n  dep: Map<T, MonitorCallback[]> = new Map()\n  constructor() {}\n  watch(eventName: T, callBack: (data: any) => any) {\n    const fns = this.dep.get(eventName)\n    if (fns) {\n      this.dep.set(eventName, fns.concat(callBack))\n      return\n    }\n    this.dep.set(eventName, [callBack])\n  }\n  notify<D = any>(eventName: T, data: D) {\n    const fns = this.dep.get(eventName)\n    if (!eventName || !fns) return\n    fns.forEach((fn) => {\n      nativeTryCatch(\n        () => {\n          fn(data)\n        },\n        (e: Error) => {\n          logger.error(`Subscribe.notify：监听事件的回调函数发生错误\\neventName:${eventName}\\nName: ${getFunctionName(fn)}\\nError: ${e}`)\n        }\n      )\n    })\n  }\n}\n","/**\n * 原生try函数\n * ../param fn try中执行的函数体\n * ../param errorFn 报错时执行的函数体，将err传入\n */\nexport function nativeTryCatch(fn: () => void, errorFn?: (err: any) => void): void {\n  try {\n    fn()\n  } catch (err) {\n    console.error('err', err)\n    if (errorFn) {\n      errorFn(err)\n    }\n  }\n}\n","import { EventTypes, SDK_VERSION } from '@wtjs/shared'\nimport { BaseClientType, BaseOptionsFieldsIntegrationType, BasePluginType, LogTypes } from '@wtjs/types'\nimport { logger } from '@wtjs/utils'\nimport { BaseTransport, Breadcrumb } from '.'\nimport { Subscribe } from './subscribe'\n\n/**\n * 抽象客户端，已实现插件和钩子函数的定义\n * 如果目前的钩子函数满足不了业务，需要在use中额外添加钩子，并在各个端实现\n *\n * @export\n * @abstract\n * @class BaseClient\n * @implements {BaseClientType}\n * @template O\n * @template E\n */\nexport abstract class BaseClient<\n  O extends BaseOptionsFieldsIntegrationType = BaseOptionsFieldsIntegrationType,\n  E extends EventTypes = EventTypes\n> implements BaseClientType\n{\n  SDK_NAME: string\n  SDK_VERSION = SDK_VERSION\n  options: BaseOptionsFieldsIntegrationType\n  abstract breadcrumb: Breadcrumb\n  abstract transport: BaseTransport\n  constructor(options: O) {\n    this.options = options\n    logger.bindOptions(options.debug)\n  }\n\n  /**\n   * 引用插件\n   *\n   * @param {BasePluginType<E>[]} plugins\n   * @memberof BaseClient\n   */\n  use(plugins: BasePluginType<E>[]) {\n    if (this.options.disabled) return\n    // 新建发布订阅实例\n    const subscribe = new Subscribe<E>()\n    plugins.forEach((item) => {\n      if (!this.isPluginEnable(item.name)) return\n      // 调用插件中的monitor并将发布函数传入\n      item.monitor.call(this, subscribe.notify.bind(subscribe))\n      const wrapperTransform = (...args: any[]) => {\n        // 先执行transform\n        const res = item.transform?.apply(this, args)\n        // 拿到transform返回的数据并传入\n        item.consumer?.call(this, res)\n        // 如果需要新增hook，可在这里添加逻辑\n      }\n      // 订阅插件中的名字，并传入回调函数\n      subscribe.watch(item.name, wrapperTransform)\n    })\n  }\n  getOptions() {\n    return this.options\n  }\n\n  /**\n   * 判断当前插件是否启用，每个端的可选字段不同，需要子类实现\n   *\n   * @abstract\n   * @param {EventTypes} name\n   * @return {*}  {boolean}\n   * @memberof BaseClient\n   */\n  abstract isPluginEnable(name: EventTypes): boolean\n\n  /**\n   * 手动上报方法，每个端需要自己实现\n   *\n   * @abstract\n   * @param {LogTypes} data\n   * @memberof BaseClient\n   */\n  abstract log(data: LogTypes): void\n}\n","import { ToStringTypes } from '@wtjs/shared'\nimport { BaseOptionsFieldsIntegrationType, BaseOptionsType, VueInstance } from '@wtjs/types'\nimport { generateUUID, validateOptionsAndSet } from '@wtjs/utils'\n\n/**\n * 公用的基础配置项绑定\n *\n * @export\n * @class BaseOptions\n * @implements {BaseOptionsType<O>}\n * @template O\n */\nexport class BaseOptions<O extends BaseOptionsFieldsIntegrationType = BaseOptionsFieldsIntegrationType> implements BaseOptionsType<O> {\n  enableTraceId = false\n  filterXhrUrlRegExp: RegExp\n  includeHttpUrlTraceIdRegExp = /.*/\n  traceIdFieldName = 'Trace-Id'\n  throttleDelayTime = 0\n  beforeAppAjaxSend = null\n  vue: VueInstance = null\n  constructor() {}\n  bindOptions(options: O) {\n    const { enableTraceId, vue, filterXhrUrlRegExp, traceIdFieldName, throttleDelayTime, includeHttpUrlTraceIdRegExp, beforeAppAjaxSend } =\n      options\n    const optionArr = [\n      [enableTraceId, 'enableTraceId', ToStringTypes.Boolean],\n      [traceIdFieldName, 'traceIdFieldName', ToStringTypes.String],\n      [throttleDelayTime, 'throttleDelayTime', ToStringTypes.Number],\n      [filterXhrUrlRegExp, 'filterXhrUrlRegExp', ToStringTypes.RegExp],\n      [includeHttpUrlTraceIdRegExp, 'includeHttpUrlTraceIdRegExp', ToStringTypes.RegExp],\n      [beforeAppAjaxSend, 'beforeAppAjaxSend', ToStringTypes.Function]\n    ]\n    validateOptionsAndSet.call(this, optionArr)\n    // for vue\n    this.vue = vue\n  }\n  isFilterHttpUrl(url: string): boolean {\n    return this.filterXhrUrlRegExp && this.filterXhrUrlRegExp.test(url)\n  }\n  setTraceId(httpUrl: string, callback: (headerFieldName: string, traceId: string) => void) {\n    const { includeHttpUrlTraceIdRegExp, enableTraceId } = this\n    if (enableTraceId && includeHttpUrlTraceIdRegExp && includeHttpUrlTraceIdRegExp.test(httpUrl)) {\n      const traceId = generateUUID()\n      callback(this.traceIdFieldName, traceId)\n    }\n  }\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import { logger, Queue, isInclude, createErrorId, isEmpty, validateOptionsAndSet } from '@wtjs/utils'\nimport { SDK_NAME, SDK_VERSION, ToStringTypes } from '@wtjs/shared'\nimport { AuthInfo, BaseOptionsFieldsIntegrationType, BreadcrumbPushData, ReportDataType, TransportDataType } from '@wtjs/types'\n\n/**\n * 传输数据抽象类\n *\n * @export\n * @abstract\n * @class BaseTransport\n * @template O\n */\nexport abstract class BaseTransport<O extends BaseOptionsFieldsIntegrationType = BaseOptionsFieldsIntegrationType> {\n  apikey = ''\n  dsn = ''\n  queue: Queue\n  beforeDataReport: Promise<TransportDataType | null | undefined | boolean> | TransportDataType | any | null | undefined | boolean = null\n  backTrackerId: unknown = null\n  configReportUrl: unknown = null\n  maxDuplicateCount = 3\n  constructor() {\n    this.queue = new Queue()\n  }\n\n  /**\n   * 获取当前SDK信息\n   *\n   * @return {*}  {AuthInfo}\n   * @memberof BaseTransport\n   */\n  getAuthInfo(): AuthInfo {\n    const trackerId = this.getTrackerId()\n    const result: AuthInfo = {\n      trackerId: String(trackerId),\n      sdkVersion: SDK_VERSION,\n      sdkName: SDK_NAME,\n      apikey: this.apikey\n    }\n    return result\n  }\n\n  /**\n   * 获取hooks中返回的trackId，没有就返回''\n   *\n   * @return {*}  {(string | number)}\n   * @memberof BaseTransport\n   */\n  getTrackerId(): string | number {\n    if (typeof this.backTrackerId === 'function') {\n      const trackerId = this.backTrackerId()\n      if (typeof trackerId === 'string' || typeof trackerId === 'number') {\n        return trackerId\n      } else {\n        logger.error(`trackerId:${trackerId} 期望 string 或 number 类型，但是传入 ${typeof trackerId}`)\n      }\n    }\n    return ''\n  }\n\n  /**\n   * 判断当前url是不是你配置的dsn\n   *\n   * @param {string} targetUrl\n   * @return {*}  {boolean}\n   * @memberof BaseTransport\n   */\n  isSelfDsn(targetUrl: string): boolean {\n    return this.dsn && isInclude(targetUrl, this.dsn)\n  }\n\n  /**\n   * 绑定配置项\n   *\n   * @param {Partial<O>} [options={}]\n   * @memberof BaseTransport\n   */\n  bindOptions(options: Partial<O> = {}): void {\n    const { dsn, beforeDataReport, apikey, maxDuplicateCount, backTrackerId, configReportUrl } = options\n    const functionType = ToStringTypes.Function\n    const optionArr = [\n      [apikey, 'apikey', ToStringTypes.String],\n      [dsn, 'dsn', ToStringTypes.String],\n      [maxDuplicateCount, 'maxDuplicateCount', ToStringTypes.Number],\n      [beforeDataReport, 'beforeDataReport', functionType],\n      [backTrackerId, 'backTrackerId', functionType],\n      [configReportUrl, 'configReportUrl', functionType]\n    ]\n    validateOptionsAndSet.call(this, optionArr)\n  }\n\n  /**\n   * 发送数据到服务端\n   *\n   * @param {*} data\n   * @param {BreadcrumbPushData[]} breadcrumb\n   * @return {*}\n   * @memberof BaseTransport\n   */\n  async send(data: any, breadcrumb: BreadcrumbPushData[] = []): Promise<void> {\n    // 如果是埋点则不需要生成errorId\n    if (!data.isTrack) {\n      const errorId = createErrorId(data, this.apikey, this.maxDuplicateCount)\n      if (!errorId) return\n      data.errorId = errorId\n    }\n    let transportData = {\n      ...this.getTransportData(data),\n      breadcrumb\n    }\n    if (typeof this.beforeDataReport === 'function') {\n      transportData = await this.beforeDataReport(transportData)\n      if (!transportData) return\n    }\n    let dsn = this.dsn\n    if (isEmpty(dsn)) {\n      logger.error('dsn is empty,pass in when initializing please')\n      return\n    }\n    if (typeof this.configReportUrl === 'function') {\n      dsn = this.configReportUrl(transportData, dsn)\n      if (!dsn) return\n    }\n    return this.sendToServer(transportData, dsn)\n  }\n\n  /**\n   * post方式，子类需要重写\n   *\n   * @abstract\n   * @param {(TransportDataType | any)} data\n   * @param {string} url\n   * @memberof BaseTransport\n   */\n  abstract post(data: TransportDataType | any, url: string): void\n  /**\n   * 最终上报到服务器的方法，需要子类重写\n   *\n   * @abstract\n   * @param {(TransportDataType | any)} data\n   * @param {string} url\n   * @memberof BaseTransport\n   */\n  abstract sendToServer(data: TransportDataType | any, url: string): void\n  /**\n   * 获取上报的格式\n   *\n   * @abstract\n   * @param {ReportDataType} data\n   * @return {TransportDataType}  {TransportDataType}\n   * @memberof BaseTransport\n   */\n  abstract getTransportData(data: ReportDataType): TransportDataType\n}\n","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","import { BaseOptions } from '@wtjs/core'\nimport { ToStringTypes } from '@wtjs/shared'\nimport { validateOptionsAndSet } from '@wtjs/utils'\nimport { BrowserOptionsFieldsTypes } from './types'\n\nexport class BrowserOptions extends BaseOptions<BrowserOptionsFieldsTypes> {\n  /**\n   * 静默监控xhr事件\n   */\n  silentXhr: boolean\n  /**\n   * 静默监控fetch事件\n   */\n  silentFetch: boolean\n  /**\n   * 静默监控console事件\n   */\n  silentConsole: boolean\n  /**\n   * 静默监控Dom事件\n   */\n  silentDom: boolean\n  /**\n   * 静默监控history事件\n   */\n  silentHistory: boolean\n  /**\n   * 静默监控error事件\n   */\n  silentError: boolean\n  /**\n   * 静默监控unhandledrejection事件\n   */\n  silentUnhandledrejection: boolean\n  /**\n   * 静默监控hashchange事件\n   */\n  silentHashchange: boolean\n  useImgUpload: boolean\n  configReportXhr: unknown = null\n  constructor(options: BrowserOptionsFieldsTypes) {\n    super()\n    super.bindOptions(options)\n    this.bindOptions(options)\n  }\n  bindOptions(options: BrowserOptionsFieldsTypes) {\n    const {\n      silentXhr,\n      silentFetch,\n      silentConsole,\n      silentDom,\n      silentHistory,\n      silentError,\n      silentHashchange,\n      silentUnhandledrejection,\n      useImgUpload,\n      configReportXhr\n    } = options\n    const booleanType = ToStringTypes.Boolean\n    const optionArr = [\n      [silentXhr, 'silentXhr', booleanType],\n      [silentFetch, 'silentFetch', booleanType],\n      [silentConsole, 'silentConsole', booleanType],\n      [silentDom, 'silentDom', booleanType],\n      [silentHistory, 'silentHistory', booleanType],\n      [silentError, 'silentError', booleanType],\n      [silentHashchange, 'silentHashchange', booleanType],\n      [silentUnhandledrejection, 'silentUnhandledrejection', booleanType],\n      [useImgUpload, 'useImgUpload', booleanType],\n      [configReportXhr, 'configReportXhr', ToStringTypes.Function]\n    ]\n    validateOptionsAndSet.call(this, optionArr)\n  }\n}\n","import { MethodTypes, ToStringTypes } from '@wtjs/shared'\nimport { BrowserOptionsFieldsTypes } from './types'\nimport { safeStringify, toStringValidateOption } from '@wtjs/utils'\nimport { ReportDataType } from '@wtjs/types'\nimport { BaseTransport } from '@wtjs/core'\n\nexport class BrowserTransport extends BaseTransport<BrowserOptionsFieldsTypes> {\n  configReportXhr: unknown\n  useImgUpload = false\n  constructor(options: BrowserOptionsFieldsTypes = {}) {\n    super()\n    super.bindOptions(options)\n    this.bindOptions(options)\n  }\n  post(data: any, url: string) {\n    const requestFun = (): void => {\n      const xhr = new XMLHttpRequest()\n      xhr.open(MethodTypes.Post, url)\n      xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8')\n      xhr.withCredentials = true\n      if (typeof this.configReportXhr === 'function') {\n        this.configReportXhr(xhr, data)\n      }\n      xhr.send(safeStringify(data))\n    }\n    this.queue.addTask(requestFun)\n  }\n  imgRequest(data: any, url: string): void {\n    const requestFun = () => {\n      let img = new Image()\n      const spliceStr = url.indexOf('?') === -1 ? '?' : '&'\n      img.src = `${url}${spliceStr}data=${encodeURIComponent(safeStringify(data))}`\n      img = null\n    }\n    this.queue.addTask(requestFun)\n  }\n  sendToServer(data: any, url: string) {\n    return this.useImgUpload ? this.imgRequest(data, url) : this.post(data, url)\n  }\n  getTransportData(data: ReportDataType) {\n    return {\n      authInfo: this.getAuthInfo(),\n      data\n    }\n  }\n  bindOptions(options: BrowserOptionsFieldsTypes = {}) {\n    const { configReportXhr, useImgUpload } = options\n    toStringValidateOption(configReportXhr, 'configReportXhr', ToStringTypes.Function) && (this.configReportXhr = configReportXhr)\n    toStringValidateOption(useImgUpload, 'useImgUpload', ToStringTypes.Boolean) && (this.useImgUpload = useImgUpload)\n  }\n}\n","import { Breadcrumb, BaseClient } from '@wtjs/core'\nimport {\n  BrowserBreadcrumbTypes,\n  BrowserEventTypes,\n  ErrorTypes,\n  EventTypes,\n  MitoLog,\n  MitoLogEmptyMsg,\n  MitoLogEmptyTag,\n  Silent\n} from '@wtjs/shared'\nimport {\n  extractErrorStack,\n  firstStrtoUppercase,\n  getBreadcrumbCategoryInBrowser,\n  getLocationHref,\n  getTimestamp,\n  isError,\n  Severity,\n  unknownToString\n} from '@wtjs/utils'\nimport { LogTypes } from '@wtjs/types'\nimport { BrowserOptions } from './browserOptions'\nimport { BrowserTransport } from './browserTransport'\nimport { BrowserOptionsFieldsTypes } from './types'\n\nexport class BrowserClient extends BaseClient<BrowserOptionsFieldsTypes, EventTypes> {\n  transport: BrowserTransport\n  declare options: BrowserOptions\n  breadcrumb: Breadcrumb<BrowserOptionsFieldsTypes>\n  constructor(options: BrowserOptionsFieldsTypes = {}) {\n    super(options)\n    this.options = new BrowserOptions(options)\n    this.transport = new BrowserTransport(options)\n    this.breadcrumb = new Breadcrumb(options)\n  }\n  /**\n   * 判断当前插件是否启用，用于browser的option\n   *\n   * @param {BrowserEventTypes} name\n   * @return {*}\n   * @memberof BrowserClient\n   */\n  isPluginEnable(name: BrowserEventTypes): boolean {\n    const silentField = `${Silent}${firstStrtoUppercase(name)}`\n    return !this.options[silentField]\n  }\n  log(data: LogTypes) {\n    const { message = MitoLogEmptyMsg, tag = MitoLogEmptyTag, level = Severity.Critical, ex = '' } = data\n    let errorInfo = {}\n    if (isError(ex)) {\n      errorInfo = extractErrorStack(ex, level)\n    }\n    const error = {\n      type: ErrorTypes.LOG,\n      level,\n      message: unknownToString(message),\n      name: MitoLog,\n      customTag: unknownToString(tag),\n      time: getTimestamp(),\n      url: getLocationHref(),\n      ...errorInfo\n    }\n    const breadcrumbStack = this.breadcrumb.push({\n      type: BrowserBreadcrumbTypes.CUSTOMER,\n      category: getBreadcrumbCategoryInBrowser(BrowserBreadcrumbTypes.CUSTOMER),\n      data: message,\n      level: Severity.fromString(level.toString())\n    })\n    this.transport.send(error, breadcrumbStack)\n  }\n}\n","import { BrowserBreadcrumbTypes } from '@wtjs/shared'\nimport { getBreadcrumbCategoryInBrowser, Severity } from '@wtjs/utils'\nimport { BrowserClient } from './browserClient'\n\nexport function addBreadcrumbInBrowser(\n  this: BrowserClient,\n  data: any,\n  type: BrowserBreadcrumbTypes,\n  level = Severity.Info,\n  params: any = {}\n) {\n  return this.breadcrumb.push({\n    type,\n    data,\n    category: getBreadcrumbCategoryInBrowser(type),\n    level,\n    ...params\n  })\n}\n","import { BREADCRUMBCATEGORYS, BrowserBreadcrumbTypes, BrowserEventTypes, ErrorTypes, globalVar, HttpTypes, HTTP_CODE } from '@wtjs/shared'\nimport {\n  getTimestamp,\n  replaceOld,\n  Severity,\n  _global,\n  variableTypeDetection,\n  on,\n  fromHttpStatus,\n  SpanStatus,\n  getLocationHref,\n  getRealPath\n} from '@wtjs/utils'\nimport { BasePluginType, HttpCollectedType, HttpTransformedType, MITOXMLHttpRequest, voidFun } from '@wtjs/types'\nimport { BrowserClient } from '../browserClient'\nimport { addBreadcrumbInBrowser } from '../utils'\n\nconst xhrPlugin: BasePluginType<BrowserEventTypes, BrowserClient> = {\n  name: BrowserEventTypes.XHR,\n  monitor(notify) {\n    monitorXhr.call(this, notify)\n  },\n  transform(collectedData: HttpCollectedType) {\n    return httpTransform(collectedData)\n  },\n  consumer(transformedData: HttpTransformedType) {\n    httpTransformedDataConsumer.call(this, transformedData)\n  }\n}\n\nfunction monitorXhr(this: BrowserClient, notify: (eventName: BrowserEventTypes, data: any) => void) {\n  const { options, transport } = this\n  if (!('XMLHttpRequest' in _global)) {\n    return\n  }\n  const originalXhrProto = XMLHttpRequest.prototype\n  replaceOld(originalXhrProto, 'open', (originalOpen: voidFun): voidFun => {\n    return function (this: MITOXMLHttpRequest, ...args: any[]): void {\n      this.httpCollect = {\n        request: {\n          httpType: HttpTypes.XHR,\n          method: variableTypeDetection.isString(args[0]) ? args[0].toUpperCase() : args[0],\n          url: args[1]\n        },\n        response: {},\n        time: getTimestamp()\n      }\n      originalOpen.apply(this, args)\n    }\n  })\n  replaceOld(originalXhrProto, 'send', (originalSend: voidFun): voidFun => {\n    return function (this: MITOXMLHttpRequest, ...args: any[]): void {\n      const { request } = this.httpCollect\n      const { method, url } = request\n      options.setTraceId(url, (headerFieldName: string, traceId: string) => {\n        request.traceId = traceId\n        this.setRequestHeader(headerFieldName, traceId)\n      })\n      options.beforeAppAjaxSend && options.beforeAppAjaxSend({ method, url }, this)\n      on(this, 'loadend', function (this: MITOXMLHttpRequest) {\n        const isBlock = transport.isSelfDsn(url) || options.isFilterHttpUrl(url)\n        if (isBlock) return\n        const { responseType, response, status } = this\n        request.data = args[0]\n        const eTime = getTimestamp()\n        if (['', 'json', 'text'].indexOf(responseType) !== -1) {\n          this.httpCollect.response.data = typeof response === 'object' ? JSON.stringify(response) : response\n        }\n        this.httpCollect.response.status = status\n        this.httpCollect.elapsedTime = eTime - this.httpCollect.time\n        notify(BrowserEventTypes.XHR, this.httpCollect)\n      })\n      originalSend.apply(this, args)\n    }\n  })\n}\n\nexport function httpTransform(httpCollectedData: HttpCollectedType): HttpTransformedType {\n  let message = ''\n  const {\n    request: { httpType, method, url },\n    response: { status },\n    elapsedTime\n  } = httpCollectedData\n  const name = `${httpType}--${method}`\n  if (status === 0) {\n    message =\n      elapsedTime <= globalVar.crossOriginThreshold ? 'http请求失败，失败原因：跨域限制或域名不存在' : 'http请求失败，失败原因：超时'\n  } else {\n    message = fromHttpStatus(status)\n  }\n  message = message === SpanStatus.Ok ? message : `${message} ${getRealPath(url)}`\n  return {\n    ...httpCollectedData,\n    type: ErrorTypes.HTTP,\n    url: getLocationHref(),\n    level: Severity.Low,\n    message,\n    name\n  }\n}\n\nexport function httpTransformedDataConsumer(this: BrowserClient, transformedData: HttpTransformedType) {\n  const type = transformedData.request.httpType === HttpTypes.FETCH ? BrowserBreadcrumbTypes.FETCH : BrowserBreadcrumbTypes.XHR\n  // time 是为了保持顺序，紧跟在点击事件后面\n  const {\n    response: { status },\n    time\n  } = transformedData\n  const isError = status === 0 || status === HTTP_CODE.BAD_REQUEST || status > HTTP_CODE.UNAUTHORIZED\n  addBreadcrumbInBrowser.call(this, transformedData, type, Severity.Info, { time })\n  if (isError) {\n    const breadcrumStack = this.breadcrumb.push({\n      type,\n      category: BREADCRUMBCATEGORYS.EXCEPTION,\n      data: transformedData,\n      level: Severity.Error,\n      time\n    })\n    this.transport.send(transformedData, breadcrumStack)\n  }\n}\n\nexport default xhrPlugin\n","export const enum SpanStatus {\n  /** The operation completed successfully. */\n  Ok = 'ok',\n  /** Deadline expired before operation could complete. */\n  DeadlineExceeded = 'deadline_exceeded',\n  /** 401 Unauthorized (actually does mean unauthenticated according to RFC 7235) */\n  Unauthenticated = 'unauthenticated',\n  /** 403 Forbidden */\n  PermissionDenied = 'permission_denied',\n  /** 404 Not Found. Some requested entity (file or directory) was not found. */\n  NotFound = 'not_found',\n  /** 429 Too Many Requests */\n  ResourceExhausted = 'resource_exhausted',\n  /** Client specified an invalid argument. 4xx. */\n  InvalidArgument = 'invalid_argument',\n  /** 501 Not Implemented */\n  Unimplemented = 'unimplemented',\n  /** 503 Service Unavailable */\n  Unavailable = 'unavailable',\n  /** Other/generic 5xx. */\n  InternalError = 'internal_error',\n  /** Unknown. Any non-standard HTTP status code. */\n  UnknownError = 'unknown_error',\n  /** The operation was cancelled (typically by the user). */\n  Cancelled = 'cancelled',\n  /** Already exists (409) */\n  AlreadyExists = 'already_exists',\n  /** Operation was rejected because the system is not in a state required for the operation's */\n  FailedPrecondition = 'failed_precondition',\n  /** The operation was aborted, typically due to a concurrency issue. */\n  Aborted = 'aborted',\n  /** Operation was attempted past the valid range. */\n  OutOfRange = 'out_of_range',\n  /** Unrecoverable data loss or corruption */\n  DataLoss = 'data_loss'\n}\n\nexport function fromHttpStatus(httpStatus: number) {\n  if (httpStatus < 400) {\n    return SpanStatus.Ok\n  }\n\n  if (httpStatus >= 400 && httpStatus < 500) {\n    switch (httpStatus) {\n      case 401:\n        return SpanStatus.Unauthenticated\n      case 403:\n        return SpanStatus.PermissionDenied\n      case 404:\n        return SpanStatus.NotFound\n      case 409:\n        return SpanStatus.AlreadyExists\n      case 413:\n        return SpanStatus.FailedPrecondition\n      case 429:\n        return SpanStatus.ResourceExhausted\n      default:\n        return SpanStatus.InvalidArgument\n    }\n  }\n\n  if (httpStatus >= 500 && httpStatus < 600) {\n    switch (httpStatus) {\n      case 501:\n        return SpanStatus.Unimplemented\n      case 503:\n        return SpanStatus.Unavailable\n      case 504:\n        return SpanStatus.DeadlineExceeded\n      default:\n        return SpanStatus.InternalError\n    }\n  }\n\n  return SpanStatus.UnknownError\n}\n","import { BrowserEventTypes, HttpTypes } from '@wtjs/shared'\nimport { getTimestamp, replaceOld, _global } from '@wtjs/utils'\nimport { BasePluginType, HttpCollectedType, HttpTransformedType, voidFun } from '@wtjs/types'\nimport { BrowserClient } from '../browserClient'\nimport { httpTransform, httpTransformedDataConsumer } from './xhr'\n\nconst fetchPlugin: BasePluginType<BrowserEventTypes, BrowserClient> = {\n  name: BrowserEventTypes.FETCH,\n  monitor(notify) {\n    monitorFetch.call(this, notify)\n  },\n  transform(collectedData: HttpCollectedType) {\n    return httpTransform(collectedData)\n  },\n  consumer(transformedData: HttpTransformedType) {\n    httpTransformedDataConsumer.call(this, transformedData)\n  }\n}\n\nfunction monitorFetch(this: BrowserClient, notify: (eventName: BrowserEventTypes, data: any) => void) {\n  const { options, transport } = this\n  if (!('fetch' in _global)) {\n    return\n  }\n  replaceOld(_global, BrowserEventTypes.FETCH, (originalFetch: voidFun) => {\n    return function (url: string, config: Partial<Request> = {}): void {\n      const sTime = getTimestamp()\n      const method = (config && config.method) || 'GET'\n      const httpCollect: HttpCollectedType = {\n        request: {\n          httpType: HttpTypes.FETCH,\n          url,\n          method,\n          data: config && config.body\n        },\n        time: sTime,\n        response: {}\n      }\n      const headers = new Headers(config.headers || {})\n      Object.assign(headers, {\n        setRequestHeader: headers.set\n      })\n      options.setTraceId(url, (headerFieldName: string, traceId: string) => {\n        httpCollect.request.traceId = traceId\n        headers.set(headerFieldName, traceId)\n      })\n      options.beforeAppAjaxSend && options.beforeAppAjaxSend({ method, url }, headers)\n      config = {\n        ...config,\n        headers\n      }\n      const isBlock = transport.isSelfDsn(url) || options.isFilterHttpUrl(url)\n      return originalFetch.apply(_global, [url, config]).then(\n        (res: Response) => {\n          const resClone = res.clone()\n          const eTime = getTimestamp()\n          httpCollect.elapsedTime = eTime - sTime\n          httpCollect.response.status = resClone.status\n          resClone.text().then((data) => {\n            if (isBlock) return\n            httpCollect.response.data = data\n            notify(BrowserEventTypes.FETCH, httpCollect)\n          })\n          return res\n        },\n        (err: Error) => {\n          if (isBlock) return\n          const eTime = getTimestamp()\n          httpCollect.elapsedTime = eTime - sTime\n          httpCollect.response.status = 0\n          notify(BrowserEventTypes.FETCH, httpCollect)\n          throw err\n        }\n      )\n    }\n  })\n}\n\nexport default fetchPlugin\n","import { BrowserBreadcrumbTypes, BrowserEventTypes } from '@wtjs/shared'\nimport { htmlElementAsString, on, throttle, _global } from '@wtjs/utils'\nimport { BasePluginType } from '@wtjs/types'\nimport { BrowserClient } from '../browserClient'\nimport { addBreadcrumbInBrowser } from '../utils'\n\nexport interface DomCollectedType {\n  // maybe will add doubleClick or other in the future\n  category: 'click'\n  data: Document\n}\nconst domPlugin: BasePluginType<BrowserEventTypes, BrowserClient> = {\n  name: BrowserEventTypes.DOM,\n  monitor(notify) {\n    if (!('document' in _global)) return\n    const clickThrottle = throttle(notify, this.options.throttleDelayTime)\n    on(\n      _global.document,\n      'click',\n      function () {\n        clickThrottle(BrowserEventTypes.DOM, {\n          category: 'click',\n          data: this\n        })\n      },\n      true\n    )\n  },\n  transform(collectedData: DomCollectedType) {\n    const htmlString = htmlElementAsString(collectedData.data.activeElement as HTMLElement)\n    return htmlString\n  },\n  consumer(transformedData: string) {\n    if (transformedData) {\n      addBreadcrumbInBrowser.call(this, transformedData, BrowserBreadcrumbTypes.CLICK)\n    }\n  }\n}\n\nexport default domPlugin\n","import { BrowserBreadcrumbTypes, BrowserEventTypes, ErrorTypes, ERROR_TYPE_RE } from '@wtjs/shared'\nimport { extractErrorStack, getLocationHref, getTimestamp, interceptStr, isError, on, Severity, _global } from '@wtjs/utils'\nimport { BasePluginType, ReportDataType } from '@wtjs/types'\nimport { BrowserClient } from '../browserClient'\nimport { addBreadcrumbInBrowser } from '../utils'\n\nexport interface ResourceErrorTarget {\n  src?: string\n  href?: string\n  localName?: string\n}\n\nconst errorPlugin: BasePluginType<BrowserEventTypes, BrowserClient> = {\n  name: BrowserEventTypes.ERROR,\n  monitor(notify) {\n    on(\n      _global,\n      'error',\n      function (e: ErrorEvent) {\n        notify(BrowserEventTypes.ERROR, e)\n      },\n      true\n    )\n  },\n  transform(errorEvent: ErrorEvent) {\n    const target = errorEvent.target as ResourceErrorTarget\n    if (target.localName) {\n      // resource error\n      return resourceTransform(errorEvent.target as ResourceErrorTarget)\n    }\n    // code error\n    return codeErrorTransform(errorEvent)\n  },\n  consumer(transformedData: ReportDataType) {\n    const type = transformedData.type === ErrorTypes.RESOURCE ? BrowserBreadcrumbTypes.RESOURCE : BrowserBreadcrumbTypes.CODE_ERROR\n    const breadcrumbStack = addBreadcrumbInBrowser.call(this, transformedData, type, Severity.Error)\n    this.transport.send(transformedData, breadcrumbStack)\n  }\n}\n\nconst resourceMap = {\n  img: '图片',\n  script: 'JS脚本'\n}\n\nfunction resourceTransform(target: ResourceErrorTarget) {\n  return {\n    type: ErrorTypes.RESOURCE,\n    url: getLocationHref(),\n    message: '资源地址: ' + (interceptStr(target.src, 120) || interceptStr(target.href, 120)),\n    level: Severity.Low,\n    time: getTimestamp(),\n    name: `${resourceMap[target.localName] || target.localName}加载失败`\n  }\n}\n\nfunction codeErrorTransform(errorEvent: ErrorEvent) {\n  const { message, filename, lineno, colno, error } = errorEvent\n  let result: ReportDataType\n  if (error && isError(error)) {\n    result = extractErrorStack(error, Severity.Normal)\n  }\n  result || (result = handleNotErrorInstance(message, filename, lineno, colno))\n  result.type = ErrorTypes.JAVASCRIPT\n  return result\n}\n\nfunction handleNotErrorInstance(message: string, filename: string, lineno: number, colno: number) {\n  let name: string | ErrorTypes = ErrorTypes.UNKNOWN\n  const url = filename || getLocationHref()\n  let msg = message\n  const matches = message.match(ERROR_TYPE_RE)\n  if (matches[1]) {\n    name = matches[1]\n    msg = matches[2]\n  }\n  const element = {\n    url,\n    func: ErrorTypes.UNKNOWN_FUNCTION,\n    args: ErrorTypes.UNKNOWN,\n    line: lineno,\n    col: colno\n  }\n  return {\n    url,\n    name,\n    message: msg,\n    level: Severity.Normal,\n    time: getTimestamp(),\n    stack: [element]\n  }\n}\nexport default errorPlugin\n","import { BrowserBreadcrumbTypes, BrowserEventTypes } from '@wtjs/shared'\nimport { isExistProperty, on, parseUrlToObj, _global } from '@wtjs/utils'\nimport { BasePluginType, RouteChangeCollectType } from '@wtjs/types'\nimport { BrowserClient } from '../browserClient'\nimport { addBreadcrumbInBrowser } from '../utils'\n\nconst hashRoutePlugin: BasePluginType<BrowserEventTypes, BrowserClient> = {\n  name: BrowserEventTypes.HASHCHANGE,\n  monitor(notify) {\n    if (!isExistProperty(_global, 'onpopstate')) {\n      on(_global, BrowserEventTypes.HASHCHANGE, function (e: HashChangeEvent) {\n        const { oldURL: from, newURL: to } = e\n        notify(BrowserEventTypes.HASHCHANGE, { from, to })\n      })\n    }\n  },\n  transform(collectedData: RouteChangeCollectType) {\n    return routeTransform(collectedData)\n  },\n  consumer(transformedData: RouteChangeCollectType) {\n    routeTransformedConsumer.call(this, transformedData)\n  }\n}\n\nexport function routeTransform(collectedData: RouteChangeCollectType): RouteChangeCollectType {\n  const { from, to } = collectedData\n  const { relative: parsedFrom } = parseUrlToObj(from)\n  const { relative: parsedTo } = parseUrlToObj(to)\n  return {\n    from: parsedFrom ? parsedFrom : '/',\n    to: parsedTo ? parsedTo : '/'\n  }\n}\n\nexport function routeTransformedConsumer(this: BrowserClient, transformedData: RouteChangeCollectType) {\n  if (transformedData.from === transformedData.to) return\n  addBreadcrumbInBrowser.call(this, transformedData, BrowserBreadcrumbTypes.ROUTE)\n}\n\nexport default hashRoutePlugin\n","import { BrowserEventTypes } from '@wtjs/shared'\nimport { getLocationHref, replaceOld, supportsHistory, _global } from '@wtjs/utils'\nimport { BasePluginType, RouteChangeCollectType, voidFun } from '@wtjs/types'\nimport { BrowserClient } from '../browserClient'\nimport { routeTransform, routeTransformedConsumer } from './hashRoute'\n\nconst historyRoutePlugin: BasePluginType<BrowserEventTypes, BrowserClient> = {\n  name: BrowserEventTypes.HISTORY,\n  monitor(notify) {\n    let lastHref: string\n    if (!supportsHistory()) return\n    const oldOnpopstate = _global.onpopstate\n    _global.onpopstate = function (this: WindowEventHandlers, ...args: any[]): any {\n      const to = getLocationHref()\n      const from = lastHref\n      lastHref = to\n      notify(BrowserEventTypes.HISTORY, {\n        from,\n        to\n      })\n      oldOnpopstate && oldOnpopstate.apply(this, args)\n    }\n    function historyReplaceFn(originalHistoryFn: voidFun): voidFun {\n      return function (this: History, ...args: any[]): void {\n        const url = args.length > 2 ? args[2] : undefined\n        if (url) {\n          const from = lastHref\n          const to = String(url)\n          lastHref = to\n          notify(BrowserEventTypes.HISTORY, {\n            from,\n            to\n          })\n        }\n        return originalHistoryFn.apply(this, args)\n      }\n    }\n    // 以下两个事件是人为调用，但是不触发onpopstate\n    replaceOld(_global.history, 'pushState', historyReplaceFn)\n    replaceOld(_global.history, 'replaceState', historyReplaceFn)\n  },\n  transform(collectedData: RouteChangeCollectType) {\n    return routeTransform(collectedData)\n  },\n  consumer(transformedData: RouteChangeCollectType) {\n    routeTransformedConsumer.call(this, transformedData)\n  }\n}\n\nexport default historyRoutePlugin\n","import { BrowserBreadcrumbTypes, BrowserEventTypes, globalVar } from '@wtjs/shared'\nimport { replaceOld, Severity, _global } from '@wtjs/utils'\nimport { BasePluginType, ConsoleCollectType } from '@wtjs/types'\nimport { BrowserClient } from '../browserClient'\nimport { addBreadcrumbInBrowser } from '../utils'\nconst consolePlugin: BasePluginType<BrowserEventTypes, BrowserClient> = {\n  name: BrowserEventTypes.CONSOLE,\n  monitor(notify) {\n    if (!('console' in _global)) {\n      return\n    }\n    const logType = ['log', 'debug', 'info', 'warn', 'error', 'assert']\n    logType.forEach(function (level: string): void {\n      if (!(level in _global.console)) return\n      replaceOld(_global.console, level, function (originalConsole: () => any): Function {\n        return function (...args: any[]): void {\n          if (originalConsole) {\n            notify(BrowserEventTypes.CONSOLE, { args, level })\n            originalConsole.apply(_global.console, args)\n          }\n        }\n      })\n    })\n  },\n  transform(collectedData: ConsoleCollectType) {\n    return collectedData\n  },\n  consumer(transformedData: ConsoleCollectType) {\n    if (globalVar.isLogAddBreadcrumb) {\n      addBreadcrumbInBrowser.call(this, transformedData, BrowserBreadcrumbTypes.CONSOLE, Severity.fromString(transformedData.level))\n    }\n  }\n}\n\nexport default consolePlugin\n","import { BrowserBreadcrumbTypes, BrowserEventTypes, ErrorTypes } from '@wtjs/shared'\nimport { extractErrorStack, getLocationHref, getTimestamp, isError, on, Severity, unknownToString, _global } from '@wtjs/utils'\nimport { BasePluginType, HttpTransformedType, ReportDataType } from '@wtjs/types'\nimport { BrowserClient } from '../browserClient'\nimport { addBreadcrumbInBrowser } from '../utils'\n\nconst name = BrowserEventTypes.UNHANDLEDREJECTION\nconst unhandlerejectionPlugin: BasePluginType<BrowserEventTypes, BrowserClient> = {\n  name,\n  monitor(notify) {\n    on(_global, name, function (ev: PromiseRejectionEvent) {\n      // ev.preventDefault() 阻止默认行为后，控制台就不会再报红色错误\n      notify(name, ev)\n    })\n  },\n  transform(collectedData: PromiseRejectionEvent) {\n    let data: ReportDataType = {\n      type: ErrorTypes.PROMISE,\n      message: unknownToString(collectedData.reason),\n      url: getLocationHref(),\n      name: collectedData.type,\n      time: getTimestamp(),\n      level: Severity.Low\n    }\n    if (isError(collectedData.reason)) {\n      data = {\n        ...data,\n        ...extractErrorStack(collectedData.reason, Severity.Low)\n      }\n    }\n    return data\n  },\n  consumer(transformedData: HttpTransformedType) {\n    const breadcrumbStack = addBreadcrumbInBrowser.call(this, transformedData, BrowserBreadcrumbTypes.UNHANDLEDREJECTION, Severity.Error)\n    this.transport.send(transformedData, breadcrumbStack)\n  }\n}\n\nexport default unhandlerejectionPlugin\n","export * from './types'\nimport { BrowserClient } from './browserClient'\nimport { BrowserOptionsFieldsTypes } from './types'\nimport fetchPlugin from './plugins/fetch'\nimport xhrPlugin from './plugins/xhr'\nimport domPlugin from './plugins/dom'\nimport errorPlugin from './plugins/error'\nimport hashRoutePlugin from './plugins/hashRoute'\nimport historyRoutePlugin from './plugins/historyRoute'\nimport consolePlugin from './plugins/console'\nimport unhandlerejectionPlugin from './plugins/unhandlerejecttion'\nimport { BasePluginType } from '@wtjs/types'\nfunction createBrowserInstance(options: BrowserOptionsFieldsTypes = {}, plugins: BasePluginType[] = []) {\n  const browserClient:any = new BrowserClient(options)\n  const browserPlugins = [\n    fetchPlugin,\n    xhrPlugin,\n    domPlugin,\n    errorPlugin,\n    hashRoutePlugin,\n    historyRoutePlugin,\n    consolePlugin,\n    unhandlerejectionPlugin\n  ]\n  browserClient.use([...browserPlugins, ...plugins])\n  return browserClient\n}\n\n\nconst init = createBrowserInstance\nexport { createBrowserInstance, init, BrowserClient }\n","import { silentConsoleScope, Severity, getTimestamp, variableTypeDetection, getBigVersion, getUrlWithEnv } from '@wtjs/utils'\nimport { vue2VmHandler, vue3VmHandler } from './helper'\nimport { BaseBreadcrumbTypes, BaseEventTypes, BREADCRUMBCATEGORYS, ErrorTypes } from '@wtjs/shared'\nimport { BasePluginType, ReportDataType, ViewModel } from '@wtjs/types'\nimport { BaseClient } from '@wtjs/core'\n\nconst vuePlugin: BasePluginType<BaseEventTypes, BaseClient> = {\n  name: BaseEventTypes.VUE,\n  monitor(notify) {\n    const Vue = this.options.vue\n    if (Vue && Vue.config) {\n      const originErrorHandle = Vue.config.errorHandler\n      Vue.config.errorHandler = function (err: Error, vm: ViewModel, info: string): void {\n        const data: ReportDataType = {\n          type: ErrorTypes.VUE,\n          message: `${err.message}(${info})`,\n          level: Severity.Normal,\n          url: getUrlWithEnv(),\n          name: err.name,\n          stack: err.stack || [],\n          time: getTimestamp()\n        }\n        notify(BaseEventTypes.VUE, { data, vm })\n        const hasConsole = typeof console !== 'undefined'\n        // vue源码会判断Vue.config.silent，为true时则不会在控制台打印，false时则会打印\n        if (hasConsole && !Vue.config.silent) {\n          silentConsoleScope(() => {\n            console.error('Error in ' + info + ': \"' + err.toString() + '\"', vm)\n            console.error(err)\n          })\n        }\n        return originErrorHandle?.(err, vm, info)\n      }\n    }\n  },\n  transform({ data: collectedData, vm }: { data: ReportDataType; vm: ViewModel }) {\n    const Vue = this.options.vue\n    if (variableTypeDetection.isString(Vue?.version)) {\n      switch (getBigVersion(Vue?.version)) {\n        case 2:\n          return { ...collectedData, ...vue2VmHandler(vm) }\n        case 3:\n          return { ...collectedData, ...vue3VmHandler(vm) }\n        default:\n          return collectedData\n      }\n    }\n  },\n  consumer(data: ReportDataType) {\n    const breadcrumbStack = this.breadcrumb.push({\n      type: BaseBreadcrumbTypes.VUE,\n      category: BREADCRUMBCATEGORYS.EXCEPTION,\n      data,\n      level: Severity.Error\n    })\n    this.transport.send(data, breadcrumbStack)\n  }\n}\nexport default vuePlugin\n","import { ViewModel } from '@wtjs/types'\nimport { getObjectWithForIn } from '@wtjs/utils'\n\nexport function vue2VmHandler(vm: ViewModel) {\n  let componentName = ''\n  if (vm.$root === vm) {\n    componentName = 'root'\n  } else {\n    const name = vm._isVue ? (vm.$options && vm.$options.name) || (vm.$options && vm.$options._componentTag) : vm.name\n    componentName =\n      (name ? 'component <' + name + '>' : 'anonymous component') +\n      (vm._isVue && vm.$options && vm.$options.__file ? ' at ' + (vm.$options && vm.$options.__file) : '')\n  }\n  return {\n    componentName,\n    propsData: vm.$options && vm.$options.propsData\n  }\n}\nexport function vue3VmHandler(vm: ViewModel) {\n  let componentName = ''\n  if (vm.$root === vm) {\n    componentName = 'root'\n  } else {\n    console.log(vm.$options)\n    const name = vm.$options && vm.$options.name\n    componentName = name ? 'component <' + name + '>' : 'anonymous component'\n  }\n  return {\n    componentName,\n    propsData: getObjectWithForIn(vm.$props)\n  }\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nvar React = require('react');\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n// even with the prod transform. This means that jsxDEV is purely\n// opt-in behavior for better messages but that we won't stop\n// giving you warnings if you use production apis.\n\nfunction jsxWithValidationStatic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, true);\n  }\n}\nfunction jsxWithValidationDynamic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, false);\n  }\n}\n\nvar jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.\n// for now we can ship identical prod functions\n\nvar jsxs =  jsxWithValidationStatic ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsx;\nexports.jsxs = jsxs;\n  })();\n}\n","import { BaseClient } from '@wtjs/core'\nimport { FC, createContext } from 'react'\nimport { MitoContextValueType } from '../types'\n\nexport const MitoContext = createContext<MitoContextValueType>({} as any)\nMitoContext.displayName = 'MitoContext'\n\nexport const MitoProvider: FC<MitoContextValueType> = ({ MitoInstance, children }: { MitoInstance: BaseClient; children: any }) => {\n  return <MitoContext.Provider value={{ MitoInstance }}>{children}</MitoContext.Provider>\n}\n","import { BaseClient } from '@wtjs/core'\nimport { BaseBreadcrumbTypes, BREADCRUMBCATEGORYS, ErrorTypes } from '@wtjs/shared'\nimport { ReportDataType } from '@wtjs/types'\nimport { extractErrorStack, Severity } from '@wtjs/utils'\nimport { PureComponent, ReactNode, ErrorInfo, ComponentType, FC } from 'react'\nimport { MitoContext } from './provider'\n\ninterface ErrorBoundaryProps {\n  fallback?: ReactNode\n  onError?: (error: Error, componentStack: string) => void\n  MitoInstance?: BaseClient\n}\n\ninterface ErrorBoundaryState {\n  hasError?: boolean\n}\n\nclass ErrorBoundaryWrapped extends PureComponent<ErrorBoundaryProps, ErrorBoundaryState> {\n  readonly state: ErrorBoundaryState\n  props: {\n    children: any\n    fallback: any \n    onError: any; \n    MitoInstance: any \n  }\n  constructor(props: any) {\n    super(props)\n    this.state = {\n      hasError: false\n    }\n  }\n  componentDidCatch(error: Error, { componentStack }: ErrorInfo) {\n    // error and componentStack are what we need\n    const { onError, MitoInstance } = this.props\n    const reactError = extractErrorStack(error, Severity.Normal) as ReportDataType\n    reactError.type = ErrorTypes.REACT\n    onError?.(error, componentStack)\n    // mito handler -> collected react render error\n    const breadcrumbStack = MitoInstance?.breadcrumb.push({\n      type: BaseBreadcrumbTypes.REACT,\n      data: reactError,\n      category: BREADCRUMBCATEGORYS.EXCEPTION,\n      level: Severity.Error\n    })\n    MitoInstance?.transport.send(reactError, breadcrumbStack)\n    this.setState({\n      hasError: true\n    })\n  }\n  setState(arg0: { hasError: boolean }) {\n    throw new Error('Method not implemented.')\n  }\n  render() {\n    return (this.state.hasError ? this.props.fallback : this.props.children) ?? null\n  }\n}\n\nexport const ErrorBoundary: FC<ErrorBoundaryProps & { children: ReactNode }> = (props: ErrorBoundaryProps & { children: ReactNode }) => (\n  <MitoContext.Consumer>\n    {({ MitoInstance }) => (\n      <ErrorBoundaryWrapped {...props} MitoInstance={props.MitoInstance || MitoInstance}>\n        {props.children}\n      </ErrorBoundaryWrapped>\n    )}\n  </MitoContext.Consumer>\n)\n\nexport const WithErrorBoundary = (errorBoundaryProps: ErrorBoundaryProps = {}) =>\n  function <C extends ComponentType>(ToWrapComponent: C) {\n    // ToWrapComponent may be class component or Function\n    const componentDisplayName = ToWrapComponent.displayName || ToWrapComponent.name || 'unknown'\n    const wrapped: FC = (props: any) => (\n      <ErrorBoundary {...errorBoundaryProps}>\n        <ToWrapComponent {...props} />\n      </ErrorBoundary>\n    )\n    wrapped.displayName = `MitoErrorBoundary(${componentDisplayName})`\n    return wrapped as C\n  }\n"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_toConsumableArray","isArray","arrayWithoutHoles","iter","Symbol","iterator","iterableToArray","unsupportedIterableToArray","TypeError","nonIterableSpread","_classCallCheck","instance","Constructor","_typeof","toPropertyKey","t","r","e","toPrimitive","String","Number","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","_defineProperty","obj","_slicedToArray","arrayWithHoles","l","u","a","f","next","done","push","iterableToArrayLimit","nonIterableRest","SDK_VERSION","ERROR_TYPE_RE","globalVar","isLogAddBreadcrumb","crossOriginThreshold","nativeToString","isType","type","concat","variableTypeDetection","isNumber","isString","isBoolean","isNull","isUndefined","isSymbol","isFunction","isObject","isProcess","isWindow","isError","wat","base","_e","isInstanceOf","Error","isNodeEnv","process","isWxMiniEnv","wx","App","isBrowserEnv","window","_global","_support","__MITO__","PREFIX","Logger","_this","this","console","forEach","level","_console","enabled","debug","_this$_console","_len","arguments","args","_key","log","apply","_this$_console2","_len2","_key2","warn","_this$_console3","_len3","_key3","error","logger","getLocationHref","document","location","href","getUrlWithEnv","getCurrentPages","pages","currentPage","pop","url","query","queryArr","keys","k","indexOf","join","setUrlQuery","route","options","getCurrentRoute","on","eventName","handler","opitons","undefined","addEventListener","replaceOld","source","replacement","wrapped","defaultFunctionName","getTimestamp","Date","now","toStringValidateOption","targetName","expectType","toStringAny","silentConsoleScope","callback","unknownToString","JSON","stringify","interceptStr","str","interceptLength","safeStringify","set","Set","has","add","clear","getObjectWithForIn","result","validateOptionsAndSet","targetArr","_ref","_ref2","parseUrlToObj","match","fragment","host","path","protocol","relative","getBreadcrumbCategoryInBrowser","extractErrorStack","ex","normal","time","message","stack","submatch","parts","element","chrome","gecko","winjs","geckoEval","chromeEval","lines","split","j","exec","isNative","func","line","column","columnNumber","_objectSpread","Severity","Queue","micro","Promise","resolve","fn","isFlushing","then","flushStack","temp","_step","_iterator","_createForOfIteratorHelper","s","err","fromString","Debug","Info","Warning","Low","Normal","High","Critical","Else","allErrorNumber","createErrorId","data","apikey","maxDuplicateCount","id","request","method","response","status","getRealPath","customTag","locationUrl","stringToObjAndOrder","generatePromiseErrorId","hash","charCodeAt","hashCode","sortObjByKey","sort","reduce","total","reason","parse","replace","Breadcrumb","bindOptions","beforePushBreadcrumb","immediatePush","maxBreadcrumbs","shift","b","Subscribe","Map","callBack","fns","dep","get","errorFn","nativeTryCatch","getFunctionName","BaseClient","plugins","disabled","subscribe","item","isPluginEnable","monitor","notify","watch","_item$transform","_item$consumer","res","transform","consumer","BaseOptions","enableTraceId","vue","filterXhrUrlRegExp","optionArr","traceIdFieldName","throttleDelayTime","includeHttpUrlTraceIdRegExp","beforeAppAjaxSend","httpUrl","d","traceId","getTime","c","Math","random","floor","asyncGeneratorStep","gen","reject","_next","_throw","arg","info","module","exports","__esModule","require$$0","_regeneratorRuntime","hasOwnProperty","asyncIterator","toStringTag","define","wrap","Generator","Context","makeInvokeMethod","tryCatch","h","y","GeneratorFunction","GeneratorFunctionPrototype","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","mark","awrap","async","reverse","prev","charAt","stop","rval","handle","complete","finish","catch","delegateYield","runtime","regenerator","regeneratorRuntime","accidentalStrictMode","globalThis","Function","BaseTransport","queue","_send","trackerId","getTrackerId","sdkVersion","sdkName","backTrackerId","targetUrl","dsn","origin","beforeDataReport","functionType","configReportUrl","_callee","breadcrumb","errorId","transportData","_args","_context","isTrack","getTransportData","trim","sendToServer","_x","_get","Reflect","property","receiver","object","superPropBase","desc","getOwnPropertyDescriptor","BrowserOptions","_BaseOptions","_thisSuper","_callSuper","booleanType","silentXhr","silentFetch","silentConsole","silentDom","silentHistory","silentError","silentHashchange","silentUnhandledrejection","useImgUpload","configReportXhr","BrowserTransport","_BaseTransport","_this2","addTask","xhr","XMLHttpRequest","open","setRequestHeader","withCredentials","send","img","Image","spliceStr","src","encodeURIComponent","imgRequest","post","authInfo","getAuthInfo","BrowserClient","_BaseClient","transport","silentField","$0","$1","$2","toUpperCase","_data$message","MitoLogEmptyMsg","_data$tag","tag","MitoLogEmptyTag","_data$level","_data$ex","errorInfo","breadcrumbStack","category","addBreadcrumbInBrowser","params","xhrPlugin","monitorXhr","collectedData","httpTransform","transformedData","httpTransformedDataConsumer","originalXhrProto","originalOpen","httpCollect","httpType","originalSend","setTraceId","headerFieldName","isSelfDsn","isFilterHttpUrl","responseType","eTime","elapsedTime","httpCollectedData","_httpCollectedData$re","httpStatus","fromHttpStatus","breadcrumStack","fetchPlugin","monitorFetch","originalFetch","config","sTime","body","headers","Headers","assign","isBlock","resClone","clone","text","domPlugin","delay","canRun","clickThrottle","setTimeout","tagName","toLowerCase","classNames","classList","innerText","htmlElementAsString","activeElement","errorPlugin","errorEvent","localName","resourceMap","resourceTransform","filename","lineno","colno","msg","matches","col","handleNotErrorInstance","codeErrorTransform","script","hashRoutePlugin","oldURL","to","newURL","routeTransform","routeTransformedConsumer","parsedFrom","parsedTo","historyRoutePlugin","lastHref","isChromePackagedApp","app","hasHistoryApi","history","pushState","replaceState","oldOnpopstate","onpopstate","historyReplaceFn","originalHistoryFn","consolePlugin","originalConsole","unhandlerejectionPlugin","ev","createBrowserInstance","browserClient","browserPlugins","use","init","vuePlugin","Vue","originErrorHandle","errorHandler","vm","silent","version","getBigVersion","componentName","$root","_isVue","$options","_componentTag","__file","propsData","vue2VmHandler","$props","vue3VmHandler","env","NODE_ENV","jsxRuntimeModule","for","m","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","ref","__self","__source","q","defaultProps","$$typeof","_owner","current","reactJsxRuntime_production_min","jsx","jsxs","React","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","MAYBE_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","ReactSharedInternals","format","ReactDebugCurrentFrame","getStackAddendum","argsWithFormat","map","unshift","printWarning","REACT_MODULE_REFERENCE","enableScopeAPI","enableCacheElement","enableTransitionTracing","enableLegacyHidden","enableDebugTracing","getContextName","getComponentNameFromType","outerType","innerType","wrapperName","functionName","getWrappedName","render","outerName","lazyComponent","payload","_payload","_init","x","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledDepth","disabledLog","__reactDisabledLog","prefix","ReactCurrentDispatcher","describeBuiltInComponentFrame","ownerFn","componentFrameCache","reentry","PossiblyWeakMap","WeakMap","describeNativeComponentFrame","construct","control","frame","previousDispatcher","previousPrepareStackTrace","prepareStackTrace","group","groupCollapsed","groupEnd","defineProperties","disableLogs","Fake","sample","sampleLines","controlLines","_frame","includes","reenableLogs","syntheticFrame","describeUnknownElementTypeFrameInDEV","isReactComponent","loggedTypeFailures","setCurrentlyValidatingElement","owner","_source","setExtraStackFrame","isArrayImpl","testStringCoercion","checkKeyStringCoercion","willCoercionThrow","typeName","specialPropKeyWarningShown","specialPropRefWarningShown","didWarnAboutStringRefs","RESERVED_PROPS","ReactElement","_store","freeze","jsxDEV","maybeKey","propName","getter","isReactWarning","hasValidKey","hasValidRef","stateNode","warnIfStringRefCannotBeAutoConverted","warnAboutAccessingKey","defineKeyPropWarningGetter","warnAboutAccessingRef","defineRefPropWarningGetter","propTypesMisspellWarningShown","ReactCurrentOwner$1","ReactDebugCurrentFrame$1","setCurrentlyValidatingElement$1","isValidElement","getDeclarationErrorAddendum","ownerHasKeyUseWarning","validateExplicitKey","parentType","validated","currentComponentErrorInfo","parentName","getCurrentComponentErrorInfo","childOwner","validateChildKeys","node","child","iteratorFn","maybeIterable","maybeIterator","getIteratorFn","entries","step","validatePropTypes","propTypes","typeSpecs","typeSpecName","error$1","checkPropTypes","PropTypes","getDefaultProps","isReactClassApproved","jsxWithValidation","isStaticChildren","validType","getModuleId","isValidElementType","typeString","sourceInfo","fileName","lineNumber","getSourceInfoErrorAddendum","children","validateFragmentProps","reactJsxRuntime_development","Fragment","MitoContext","createContext","ErrorBoundaryWrapped","PureComponent","state","super","hasError","componentDidCatch","componentStack","onError","MitoInstance","reactError","setState","arg0","fallback","ErrorBoundary","_jsx","Consumer","Provider","errorBoundaryProps","ToWrapComponent","componentDisplayName"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,36,37,38,39,41,42,59,60,61]}