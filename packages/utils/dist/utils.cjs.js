"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:String(r)}function r(e,r,n){return(r=t(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}function c(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=Object.prototype.toString;function u(e){return function(t){return s.call(t)==="[object ".concat(e,"]")}}var l={isNumber:u("Number"),isString:u("String"),isBoolean:u("Boolean"),isNull:u("Null"),isUndefined:u("Undefined"),isSymbol:u("Symbol"),isFunction:u("Function"),isObject:u("Object"),isArray:u("Array"),isProcess:u("process"),isWindow:u("Window")};function f(e,t){try{return e instanceof t}catch(e){return!1}}var p=l.isProcess("undefined"!=typeof process?process:0),y=l.isObject("undefined"!=typeof wx?wx:0)&&l.isFunction("undefined"!=typeof App?App:0),g=l.isWindow("undefined"!=typeof window?window:0);function d(){return g?window:y?wx:p?process:void 0}var h=d(),b=(h.__MITO__=h.__MITO__||{},h.__MITO__);var v="MITO Logger",m=function(){function e(){var t=this;if(i(this,e),r(this,"enabled",!1),r(this,"_console",{}),h.console=console||h.console,console||h.console){["log","debug","info","warn","error","assert"].forEach((function(e){e in h.console&&(t._console[e]=h.console[e])}))}}return c(e,[{key:"disable",value:function(){this.enabled=!1}},{key:"bindOptions",value:function(e){this.enabled=!!e}},{key:"enable",value:function(){this.enabled=!0}},{key:"getEnableStatus",value:function(){return this.enabled}},{key:"log",value:function(){var e;if(this.enabled){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=this._console).log.apply(e,["".concat(v,"[Log]:")].concat(r))}}},{key:"warn",value:function(){var e;if(this.enabled){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=this._console).warn.apply(e,["".concat(v,"[Warn]:")].concat(r))}}},{key:"error",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=this._console).error.apply(e,["".concat(v,"[Error]:")].concat(r))}}]),e}(),x=b.logger||(b.logger=new m);function O(){return"undefined"==typeof document||null==document.location?"":document.location.href}function w(){return y?E():g?O():""}var S="<anonymous>";function j(){return Date.now()}function N(e,t){return s.call(e)==="[object ".concat(t,"]")}function k(e,t,r){return!!N(e,r)||(void 0!==e&&x.error("".concat(t,"期望传入:").concat(r,"类型，当前是:").concat(s.call(e),"类型")),!1)}function A(e,t){var r=[];return Object.keys(t).forEach((function(e){r.push("".concat(e,"=").concat(t[e]))})),e=-1!==e.indexOf("?")?"".concat(e,"&").concat(r.join("&")):"".concat(e,"?").concat(r.join("&"))}function E(){if(!l.isFunction(getCurrentPages))return"";var e=getCurrentPages();if(!e.length)return"App";var t=e.pop();return A(t.route,t.options)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C,U=function(){function e(){i(this,e),r(this,"micro",void 0),r(this,"stack",[]),r(this,"isFlushing",!1),"Promise"in h&&(this.micro=Promise.resolve())}return c(e,[{key:"addTask",value:function(e){var t=this;"function"==typeof e&&("Promise"in h?(this.stack.push(e),this.isFlushing||(this.isFlushing=!0,this.micro.then((function(){return t.flushStack()})))):e())}},{key:"clear",value:function(){this.stack=[]}},{key:"getStack",value:function(){return this.stack}},{key:"flushStack",value:function(){var e=this.stack.slice(0);this.stack.length=0,this.isFlushing=!1;var t,r=I(e);try{for(r.s();!(t=r.n()).done;){(0,t.value)()}}catch(e){r.e(e)}finally{r.f()}}}]),e}();exports.Severity=void 0,(C=exports.Severity||(exports.Severity={})).Else="else",C.Error="error",C.Warning="warning",C.Info="info",C.Debug="debug",C.Low="low",C.Normal="normal",C.High="high",C.Critical="critical",function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":case"log":case"assert":return e.Info;case"warn":case"warning":return e.Warning;case e.Low:case e.Normal:case e.High:case e.Critical:case"error":return e.Error;default:return e.Else}}}(exports.Severity||(exports.Severity={}));var F={};function W(e){return Object.keys(e).sort().reduce((function(t,r){return l.isObject(e[r])?t[r]=W(e[r]):t[r]=e[r],t}),{})}function L(e){try{if(/\{.*\}/.test(e)){var t=JSON.parse(e);return t=W(t),JSON.stringify(t)}return e}catch(t){return e}}function M(e){return e.replace(/[?#].*$/,"").replace(/\/(\d+)\//g,"/{param}/$1").replace(/\/\d+([/]*$)/g,"/{param}$1")}function D(e){return e.replace(/(\S+)(\/Documents\/)(\S*)/,"$3")}function $(e){return e.replace(/(\S+)(\/#\/)(\S*)/,"$1")}function R(e){var t=0;if(0==e.length)return t;for(var r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t|=0}return t}exports.Logger=m,exports.Queue=U,exports._global=h,exports._support=b,exports.createErrorId=function(e,t,r){var n;switch(e.type){case"HTTP":n=e.type+e.request.method+e.response.status+M(e.request.url)+t;break;case"JAVASCRIPT":case"VUE":case"REACT":n=e.type+e.name+e.message+t;break;case"LOG":n=e.customTag+e.type+e.name+t;break;case"PROMISE":n=function(e,t){var r=M(e.url);if("unhandledrejection"===e.name)return e.type+L(e.message)+t;return e.type+e.name+L(e.message)+r}(e,t);break;default:n=e.type+e.message+t}return n=R(n),F[n]>=r?null:("number"==typeof F[n]?F[n]++:F[n]=1,n)},exports.defaultFunctionName=S,exports.extractErrorStack=function(e,t){var r={time:j(),url:w(),name:e.name,level:t,message:e.message};if(void 0===e.stack||!e.stack)return r;for(var n,o,i,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=e.stack.split("\n"),p=[],y=0,g=f.length;y<g;++y){if(o=a.exec(f[y])){var d=o[2]&&0===o[2].indexOf("native");o[2]&&0===o[2].indexOf("eval")&&(n=l.exec(o[2]))&&(o[2]=n[1],o[3]=n[2],o[4]=n[3]),i={url:d?null:o[2],func:o[1]||"UNKNOWN_FUNCTION",args:d?[o[2]]:[],line:o[3]?+o[3]:null,column:o[4]?+o[4]:null}}else if(o=s.exec(f[y]))i={url:o[2],func:o[1]||"UNKNOWN_FUNCTION",args:[],line:+o[3],column:o[4]?+o[4]:null};else{if(!(o=c.exec(f[y])))continue;o[3]&&o[3].indexOf(" > eval")>-1&&(n=u.exec(o[3]))?(o[3]=n[1],o[4]=n[2],o[5]=null):0!==y||o[5]||void 0===e.columnNumber||(p[0].column=e.columnNumber+1),i={url:o[3],func:o[1]||"UNKNOWN_FUNCTION",args:o[2]?o[2].split(","):[],line:o[4]?+o[4]:null,column:o[5]?+o[5]:null}}!i.func&&i.line&&(i.func="UNKNOWN_FUNCTION"),p.push(i)}return p.length?T(T({},r),{},{stack:p}):null},exports.firstStrtoLowerCase=function(e){return e.replace(/\b(\w)(\w*)/g,(function(e,t,r){return"".concat(t.toLowerCase()).concat(r)}))},exports.firstStrtoUppercase=function(e){return e.replace(/\b(\w)(\w*)/g,(function(e,t,r){return"".concat(t.toUpperCase()).concat(r)}))},exports.fromHttpStatus=function(e){if(e<400)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"},exports.generateUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}))},exports.getAppId=function(){return wx.getAccountInfoSync().miniProgram.appId},exports.getBigVersion=function(e){return Number(e.split(".")[0])},exports.getBreadcrumbCategoryInBrowser=function(e){switch(e){case"Xhr":case"Fetch":return"http";case"UI.Click":case"Route":return"user";case"Customer":case"Console":return"debug";default:return"exception"}},exports.getBreadcrumbCategoryInWx=function(e){switch(e){case"Xhr":return"http";case"Route":case"UI.Tap":case"UI.Touchmove":return"user";case"Customer":case"Console":return"debug";case"App On Launch":case"App On Show":case"App On Hide":case"Page On Load":case"Page On Show":case"Page On Ready":case"Page On Hide":case"Page On Share App Message":case"Page On Share Timeline":case"Page On Tab Item Tap":return"lifecycle";default:return"exception"}},exports.getCurrentRoute=E,exports.getFlutterRealOrigin=function(e){return $(D(e))},exports.getFlutterRealPath=D,exports.getFunctionName=function(e){return e&&"function"==typeof e&&e.name||S},exports.getGlobal=d,exports.getLocationHref=O,exports.getObjectWithForIn=function(e){if(!l.isObject(e))return e;var t={};for(var r in e)t[r]=e[r];return t},exports.getRealPath=M,exports.getTimestamp=j,exports.getUrlWithEnv=w,exports.hashCode=R,exports.htmlElementAsString=function(e){var t=e.tagName.toLowerCase();if("body"===t)return null;var r=e.classList.value;r=""!==r?' class="'.concat(r,'"'):"";var n=e.id?' id="'.concat(e.id,'"'):"",o=e.innerText;return"<".concat(t).concat(n).concat(""!==r?r:"",">").concat(o,"</").concat(t,">")},exports.interceptStr=function(e,t){return l.isString(e)?e.slice(0,t)+(e.length>t?";slice the first ".concat(t," characters"):""):""},exports.isBrowserEnv=g,exports.isEmpty=function(e){return l.isString(e)&&""===e.trim()||null==e},exports.isEmptyObject=function(e){return l.isObject(e)&&0===Object.keys(e).length},exports.isError=function(e){switch(s.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return f(e,Error)}},exports.isExistProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},exports.isInclude=function(e,t){return!!~e.indexOf(t)},exports.isInstanceOf=f,exports.isNodeEnv=p,exports.isType=u,exports.isWxMiniEnv=y,exports.logger=x,exports.nativeToString=s,exports.nativeTryCatch=function(e,t){try{e()}catch(e){console.error("err",e),t&&t(e)}},exports.on=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,r,n)},exports.parseErrorString=function(e){var t=e.split("\n");if(t.length<2)return null;-1!==t[0].indexOf("MiniProgramError")&&t.splice(0,1);var r=t.splice(0,1)[0],n=t.splice(0,1)[0].split(":")[0],o=[];return t.forEach((function(e){var t=/at\s+([\S]+)\s+\(/.exec(e),r=/\(([^)]+)\)/.exec(e);r||(r=/\s+at\s+(\S+)/.exec(e));var n=Array.isArray(t)&&t.length>0?t[1].trim():"",i=(Array.isArray(r)&&r.length>0?r[1]:"").split(":");o.push({args:[],func:n||"UNKNOWN_FUNCTION",column:Number(i.pop()),line:Number(i.pop()),url:i.join(":")})})),{message:r,name:n,stack:o}},exports.parseUrlToObj=function(e){if(!e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}},exports.removeHashPath=$,exports.replaceOld=function(e,t,r){if(void 0!==e&&(t in e||arguments.length>3&&void 0!==arguments[3]&&arguments[3])){var n=r(e[t]);"function"==typeof n&&(e[t]=n)}},exports.safeStringify=function(t){var r=new Set,n=JSON.stringify(t,(function(t,n){return r.has(n)?"Circular":("object"===e(n)&&r.add(n),n)}));return r.clear(),n},exports.setUrlQuery=A,exports.silentConsoleScope=function(e){e()},exports.sleepRun=function(e){setTimeout((function(){e()}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:200)},exports.sortObjByKey=W,exports.stringToObjAndOrder=L,exports.supportsHistory=function(){var e=h.chrome,t=e&&e.app&&e.app.runtime,r="history"in h&&!!h.history.pushState&&!!h.history.replaceState;return!t&&r},exports.throttle=function(e,t){var r=!0;return function(){if(r){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];e.apply(this,o),r=!1,setTimeout((function(){r=!0}),t)}}},exports.toStringAny=N,exports.toStringValidateOption=k,exports.unknownToString=function(e){return l.isString(e)?e:l.isUndefined(e)?"undefined":JSON.stringify(e)},exports.validateOptionsAndSet=function(e){var t=this;e.forEach((function(e){var r=o(e,3),n=r[0],i=r[1];return k(n,i,r[2])&&(t[i]=n)}))},exports.variableTypeDetection=l;
//# sourceMappingURL=utils.cjs.js.map
