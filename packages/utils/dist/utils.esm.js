function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,t||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:String(t)}function t(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,c,a=[],u=!0,s=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=i.call(t)).done)&&(a.push(r.value),a.length!==n);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(s)throw o}}return a}}(e,n)||function(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function a(e,n,t){return n&&c(e.prototype,n),t&&c(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var u=Object.prototype.toString;function s(e){return function(n){return u.call(n)==="[object ".concat(e,"]")}}var l={isNumber:s("Number"),isString:s("String"),isBoolean:s("Boolean"),isNull:s("Null"),isUndefined:s("Undefined"),isSymbol:s("Symbol"),isFunction:s("Function"),isObject:s("Object"),isArray:s("Array"),isProcess:s("process"),isWindow:s("Window")};function f(e){switch(u.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return d(e,Error)}}function p(e){return l.isObject(e)&&0===Object.keys(e).length}function h(e){return l.isString(e)&&""===e.trim()||null==e}function d(e,n){try{return e instanceof n}catch(e){return!1}}function y(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var b=l.isProcess("undefined"!=typeof process?process:0),g=l.isObject("undefined"!=typeof wx?wx:0)&&l.isFunction("undefined"!=typeof App?App:0),m=l.isWindow("undefined"!=typeof window?window:0);function v(){return m?window:g?wx:b?process:void 0}var O=v(),w=(O.__MITO__=O.__MITO__||{},O.__MITO__);function x(){var e=O.chrome,n=e&&e.app&&e.app.runtime,t="history"in O&&!!O.history.pushState&&!!O.history.replaceState;return!n&&t}var S="MITO Logger",j=function(){function e(){var n=this;if(i(this,e),t(this,"enabled",!1),t(this,"_console",{}),O.console=console||O.console,console||O.console){["log","debug","info","warn","error","assert"].forEach((function(e){e in O.console&&(n._console[e]=O.console[e])}))}}return a(e,[{key:"disable",value:function(){this.enabled=!1}},{key:"bindOptions",value:function(e){this.enabled=!!e}},{key:"enable",value:function(){this.enabled=!0}},{key:"getEnableStatus",value:function(){return this.enabled}},{key:"log",value:function(){var e;if(this.enabled){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];(e=this._console).log.apply(e,["".concat(S,"[Log]:")].concat(t))}}},{key:"warn",value:function(){var e;if(this.enabled){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];(e=this._console).warn.apply(e,["".concat(S,"[Warn]:")].concat(t))}}},{key:"error",value:function(){for(var e,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];(e=this._console).error.apply(e,["".concat(S,"[Error]:")].concat(t))}}]),e}(),N=w.logger||(w.logger=new j);function k(){return"undefined"==typeof document||null==document.location?"":document.location.href}function A(){return g?J():m?k():""}function P(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(n,t,r)}function _(e,n,t){if(void 0!==e&&(n in e||arguments.length>3&&void 0!==arguments[3]&&arguments[3])){var r=t(e[n]);"function"==typeof r&&(e[n]=r)}}var T="<anonymous>";function E(e){return e&&"function"==typeof e&&e.name||T}function I(e,n){var t=!0;return function(){if(t){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e.apply(this,o),t=!1,setTimeout((function(){t=!0}),n)}}}function C(e,n){return!!~e.indexOf(n)}function U(){return Date.now()}function F(e,n){return u.call(e)==="[object ".concat(n,"]")}function M(e,n,t){return!!F(e,t)||(void 0!==e&&N.error("".concat(n,"期望传入:").concat(t,"类型，当前是:").concat(u.call(e),"类型")),!1)}function $(e){e()}function L(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)}))}function W(e){return l.isString(e)?e:l.isUndefined(e)?"undefined":JSON.stringify(e)}function D(e){return Number(e.split(".")[0])}function R(e,n){var t=[];return Object.keys(n).forEach((function(e){t.push("".concat(e,"=").concat(n[e]))})),e=-1!==e.indexOf("?")?"".concat(e,"&").concat(t.join("&")):"".concat(e,"?").concat(t.join("&"))}function H(e,n){return l.isString(e)?e.slice(0,n)+(e.length>n?";slice the first ".concat(n," characters"):""):""}function J(){if(!l.isFunction(getCurrentPages))return"";var e=getCurrentPages();if(!e.length)return"App";var n=e.pop();return R(n.route,n.options)}function K(e){return e.replace(/\b(\w)(\w*)/g,(function(e,n,t){return"".concat(n.toUpperCase()).concat(t)}))}function q(e){return e.replace(/\b(\w)(\w*)/g,(function(e,n,t){return"".concat(n.toLowerCase()).concat(t)}))}function B(n){var t=new Set,r=JSON.stringify(n,(function(n,r){return t.has(r)?"Circular":("object"===e(r)&&t.add(r),r)}));return t.clear(),r}function V(e){if(!l.isObject(e))return e;var n={};for(var t in e)n[t]=e[t];return n}function X(e){var n=this;e.forEach((function(e){var t=o(e,3),r=t[0],i=t[1];return M(r,i,t[2])&&(n[i]=r)}))}function z(e){setTimeout((function(){e()}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:200)}function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?G(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function Y(e){var n=e.tagName.toLowerCase();if("body"===n)return null;var t=e.classList.value;t=""!==t?' class="'.concat(t,'"'):"";var r=e.id?' id="'.concat(e.id,'"'):"",o=e.innerText;return"<".concat(n).concat(r).concat(""!==t?t:"",">").concat(o,"</").concat(n,">")}function Z(e){if(!e)return{};var n=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!n)return{};var t=n[6]||"",r=n[8]||"";return{host:n[4],path:n[5],protocol:n[2],relative:n[5]+t+r}}function ee(e){switch(e){case"Xhr":case"Fetch":return"http";case"UI.Click":case"Route":return"user";case"Customer":case"Console":return"debug";default:return"exception"}}function ne(e,n){var t={time:U(),url:A(),name:e.name,level:n,message:e.message};if(void 0===e.stack||!e.stack)return t;for(var r,o,i,c=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=e.stack.split("\n"),p=[],h=0,d=f.length;h<d;++h){if(o=c.exec(f[h])){var y=o[2]&&0===o[2].indexOf("native");o[2]&&0===o[2].indexOf("eval")&&(r=l.exec(o[2]))&&(o[2]=r[1],o[3]=r[2],o[4]=r[3]),i={url:y?null:o[2],func:o[1]||"UNKNOWN_FUNCTION",args:y?[o[2]]:[],line:o[3]?+o[3]:null,column:o[4]?+o[4]:null}}else if(o=u.exec(f[h]))i={url:o[2],func:o[1]||"UNKNOWN_FUNCTION",args:[],line:+o[3],column:o[4]?+o[4]:null};else{if(!(o=a.exec(f[h])))continue;o[3]&&o[3].indexOf(" > eval")>-1&&(r=s.exec(o[3]))?(o[3]=r[1],o[4]=r[2],o[5]=null):0!==h||o[5]||void 0===e.columnNumber||(p[0].column=e.columnNumber+1),i={url:o[3],func:o[1]||"UNKNOWN_FUNCTION",args:o[2]?o[2].split(","):[],line:o[4]?+o[4]:null,column:o[5]?+o[5]:null}}!i.func&&i.line&&(i.func="UNKNOWN_FUNCTION"),p.push(i)}return p.length?Q(Q({},t),{},{stack:p}):null}function te(e,n){try{e()}catch(e){console.error("err",e),n&&n(e)}}function re(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return oe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oe(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==t.return||t.return()}finally{if(a)throw i}}}}function oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var ie,ce=function(){function e(){i(this,e),t(this,"micro",void 0),t(this,"stack",[]),t(this,"isFlushing",!1),"Promise"in O&&(this.micro=Promise.resolve())}return a(e,[{key:"addTask",value:function(e){var n=this;"function"==typeof e&&("Promise"in O?(this.stack.push(e),this.isFlushing||(this.isFlushing=!0,this.micro.then((function(){return n.flushStack()})))):e())}},{key:"clear",value:function(){this.stack=[]}},{key:"getStack",value:function(){return this.stack}},{key:"flushStack",value:function(){var e=this.stack.slice(0);this.stack.length=0,this.isFlushing=!1;var n,t=re(e);try{for(t.s();!(n=t.n()).done;){(0,n.value)()}}catch(e){t.e(e)}finally{t.f()}}}]),e}();function ae(e){if(e<400)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}!function(e){e.Else="else",e.Error="error",e.Warning="warning",e.Info="info",e.Debug="debug",e.Low="low",e.Normal="normal",e.High="high",e.Critical="critical"}(ie||(ie={})),function(e){e.fromString=function(n){switch(n){case"debug":return e.Debug;case"info":case"log":case"assert":return e.Info;case"warn":case"warning":return e.Warning;case e.Low:case e.Normal:case e.High:case e.Critical:case"error":return e.Error;default:return e.Else}}}(ie||(ie={}));var ue={};function se(e,n,t){var r;switch(e.type){case"HTTP":r=e.type+e.request.method+e.response.status+pe(e.request.url)+n;break;case"JAVASCRIPT":case"VUE":case"REACT":r=e.type+e.name+e.message+n;break;case"LOG":r=e.customTag+e.type+e.name+n;break;case"PROMISE":r=function(e,n){var t=pe(e.url);if("unhandledrejection"===e.name)return e.type+fe(e.message)+n;return e.type+e.name+fe(e.message)+t}(e,n);break;default:r=e.type+e.message+n}return r=be(r),ue[r]>=t?null:("number"==typeof ue[r]?ue[r]++:ue[r]=1,r)}function le(e){return Object.keys(e).sort().reduce((function(n,t){return l.isObject(e[t])?n[t]=le(e[t]):n[t]=e[t],n}),{})}function fe(e){try{if(/\{.*\}/.test(e)){var n=JSON.parse(e);return n=le(n),JSON.stringify(n)}return e}catch(n){return e}}function pe(e){return e.replace(/[?#].*$/,"").replace(/\/(\d+)\//g,"/{param}/$1").replace(/\/\d+([/]*$)/g,"/{param}$1")}function he(e){return ye(de(e))}function de(e){return e.replace(/(\S+)(\/Documents\/)(\S*)/,"$3")}function ye(e){return e.replace(/(\S+)(\/#\/)(\S*)/,"$1")}function be(e){var n=0;if(0==e.length)return n;for(var t=0;t<e.length;t++){n=(n<<5)-n+e.charCodeAt(t),n|=0}return n}function ge(e){var n=e.split("\n");if(n.length<2)return null;-1!==n[0].indexOf("MiniProgramError")&&n.splice(0,1);var t=n.splice(0,1)[0],r=n.splice(0,1)[0].split(":")[0],o=[];return n.forEach((function(e){var n=/at\s+([\S]+)\s+\(/.exec(e),t=/\(([^)]+)\)/.exec(e);t||(t=/\s+at\s+(\S+)/.exec(e));var r=Array.isArray(n)&&n.length>0?n[1].trim():"",i=(Array.isArray(t)&&t.length>0?t[1]:"").split(":");o.push({args:[],func:r||"UNKNOWN_FUNCTION",column:Number(i.pop()),line:Number(i.pop()),url:i.join(":")})})),{message:t,name:r,stack:o}}function me(e){switch(e){case"Xhr":return"http";case"Route":case"UI.Tap":case"UI.Touchmove":return"user";case"Customer":case"Console":return"debug";case"App On Launch":case"App On Show":case"App On Hide":case"Page On Load":case"Page On Show":case"Page On Ready":case"Page On Hide":case"Page On Share App Message":case"Page On Share Timeline":case"Page On Tab Item Tap":return"lifecycle";default:return"exception"}}function ve(){return wx.getAccountInfoSync().miniProgram.appId}export{j as Logger,ce as Queue,ie as Severity,O as _global,w as _support,se as createErrorId,T as defaultFunctionName,ne as extractErrorStack,q as firstStrtoLowerCase,K as firstStrtoUppercase,ae as fromHttpStatus,L as generateUUID,ve as getAppId,D as getBigVersion,ee as getBreadcrumbCategoryInBrowser,me as getBreadcrumbCategoryInWx,J as getCurrentRoute,he as getFlutterRealOrigin,de as getFlutterRealPath,E as getFunctionName,v as getGlobal,k as getLocationHref,V as getObjectWithForIn,pe as getRealPath,U as getTimestamp,A as getUrlWithEnv,be as hashCode,Y as htmlElementAsString,H as interceptStr,m as isBrowserEnv,h as isEmpty,p as isEmptyObject,f as isError,y as isExistProperty,C as isInclude,d as isInstanceOf,b as isNodeEnv,s as isType,g as isWxMiniEnv,N as logger,u as nativeToString,te as nativeTryCatch,P as on,ge as parseErrorString,Z as parseUrlToObj,ye as removeHashPath,_ as replaceOld,B as safeStringify,R as setUrlQuery,$ as silentConsoleScope,z as sleepRun,le as sortObjByKey,fe as stringToObjAndOrder,x as supportsHistory,I as throttle,F as toStringAny,M as toStringValidateOption,W as unknownToString,X as validateOptionsAndSet,l as variableTypeDetection};
//# sourceMappingURL=utils.esm.js.map
