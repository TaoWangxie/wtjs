{"version":3,"file":"utils.esm.js","sources":["../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../node_modules/.pnpm/@babel+runtime@7.24.0/node_modules/@babel/runtime/helpers/esm/createClass.js","../src/is.ts","../src/global.ts","../src/logger.ts","../src/helpers.ts","../src/browser.ts","../src/exception.ts","../src/queue.ts","../src/Severity.ts","../src/httpStatus.ts","../src/errorId.ts","../src/wx.ts"],"sourcesContent":["export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import { ToStringTypes } from '@wtjs/shared'\n\nexport const nativeToString = Object.prototype.toString\nexport function isType(type: string) {\n  return function (value: any): boolean {\n    return nativeToString.call(value) === `[object ${type}]`\n  }\n}\n\n/**\n * 检测变量类型\n * @param type\n */\nexport const variableTypeDetection = {\n  isNumber: isType(ToStringTypes.Number),\n  isString: isType(ToStringTypes.String),\n  isBoolean: isType(ToStringTypes.Boolean),\n  isNull: isType(ToStringTypes.Null),\n  isUndefined: isType(ToStringTypes.Undefined),\n  isSymbol: isType(ToStringTypes.Symbol),\n  isFunction: isType(ToStringTypes.Function),\n  isObject: isType(ToStringTypes.Object),\n  isArray: isType(ToStringTypes.Array),\n  isProcess: isType(ToStringTypes.process),\n  isWindow: isType(ToStringTypes.Window)\n}\n\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {../link isError}.\n *\n * ../param wat A value to be checked.\n * ../returns A boolean representing the result.\n */\nexport function isError(wat: any): boolean {\n  switch (nativeToString.call(wat)) {\n    case '[object Error]':\n      return true\n    case '[object Exception]':\n      return true\n    case '[object DOMException]':\n      return true\n    default:\n      return isInstanceOf(wat, Error)\n  }\n}\n\n/**\n * 检查是否是空对象\n *\n * @export\n * @param {Object} obj 待检测的对象\n * @return {*}  {boolean}\n */\nexport function isEmptyObject(obj: Object): boolean {\n  return variableTypeDetection.isObject(obj) && Object.keys(obj).length === 0\n}\n\n/**\n * 检测是否是空字符、undefined、null\n *\n * @export\n * @param {*} wat\n * @return {*}  {boolean}\n */\nexport function isEmpty(wat: any): boolean {\n  return (variableTypeDetection.isString(wat) && wat.trim() === '') || wat === undefined || wat === null\n}\n\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {../link isInstanceOf}.\n *\n * ../param wat A value to be checked.\n * ../param base A constructor to be used in a check.\n * ../returns A boolean representing the result.\n */\nexport function isInstanceOf(wat: any, base: any): boolean {\n  try {\n    // tslint:disable-next-line:no-unsafe-any\n    return wat instanceof base\n  } catch (_e) {\n    return false\n  }\n}\n\nexport function isExistProperty(obj: Object, key: string | number | symbol): boolean {\n  return Object.prototype.hasOwnProperty.call(obj, key)\n}\n","import { EventTypes } from '@wtjs/shared'\nimport { Logger } from './logger'\nimport { DeviceInfo } from '@wtjs/types'\nimport { variableTypeDetection } from './is'\n\n/**\n *MITO的全局变量\n *\n * @export\n * @interface MitoSupport\n */\nexport interface MitoSupport {\n  logger: Logger\n  replaceFlag: { [key in EventTypes]?: boolean }\n  record?: any[]\n  deviceInfo?: DeviceInfo\n}\n\ninterface MITOGlobal {\n  console?: Console\n  __MITO__?: MitoSupport\n}\n\nexport const isNodeEnv = variableTypeDetection.isProcess(typeof process !== 'undefined' ? process : 0)\n\nexport const isWxMiniEnv =\n//@ts-ignore\n  variableTypeDetection.isObject(typeof wx !== 'undefined' ? wx : 0) &&\n  //@ts-ignore\n  variableTypeDetection.isFunction(typeof App !== 'undefined' ? App : 0)\n\nexport const isBrowserEnv = variableTypeDetection.isWindow(typeof window !== 'undefined' ? window : 0)\n/**\n * 获取全局变量\n *\n * ../returns Global scope object\n */\nexport function getGlobal<T>() {\n  if (isBrowserEnv) return window as unknown as MITOGlobal & T\n  //@ts-ignore\n  if (isWxMiniEnv) return wx as unknown as MITOGlobal & T\n  // it's true when run e2e\n  if (isNodeEnv) return process as unknown as MITOGlobal & T\n}\n// whether it is right use &\n//@ts-ignore\nconst _global = getGlobal<Window & WechatMiniprogram.Wx>()\nconst _support = getGlobalMitoSupport()\n/**\n * 获取全局变量__MITO__的引用地址\n *\n * @return {*}  {MitoSupport}\n */\nfunction getGlobalMitoSupport(): MitoSupport {\n  _global.__MITO__ = _global.__MITO__ || ({} as MitoSupport)\n  return _global.__MITO__\n}\n\nexport { _global, _support }\n\n// _support.replaceFlag = _support.replaceFlag || {}\n// const replaceFlag = _support.replaceFlag\n// export function setFlag(replaceType: EventTypes, isSet: boolean): void {\n//   if (replaceFlag[replaceType]) return\n//   replaceFlag[replaceType] = isSet\n// }\n\n// export function getFlag(replaceType: EventTypes): boolean {\n//   return replaceFlag[replaceType] ? true : false\n// }\n\nexport function supportsHistory(): boolean {\n  // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n  const chrome = (_global as any).chrome\n  const isChromePackagedApp = chrome && chrome.app && chrome.app.runtime\n  const hasHistoryApi = 'history' in _global && !!_global.history.pushState && !!_global.history.replaceState\n  return !isChromePackagedApp && hasHistoryApi\n}\n","import { _global, _support } from './global'\nconst PREFIX = 'MITO Logger'\n\nexport class Logger {\n  private enabled = false\n  private _console: Console = {} as Console\n  constructor() {\n    _global.console = console || _global.console\n    if (console || _global.console) {\n      const logType = ['log', 'debug', 'info', 'warn', 'error', 'assert']\n      logType.forEach((level) => {\n        if (!(level in _global.console)) return\n        this._console[level] = _global.console[level]\n      })\n    }\n  }\n  disable(): void {\n    this.enabled = false\n  }\n\n  bindOptions(debug: boolean): void {\n    this.enabled = debug ? true : false\n  }\n\n  enable(): void {\n    this.enabled = true\n  }\n\n  getEnableStatus() {\n    return this.enabled\n  }\n\n  log(...args: any[]): void {\n    if (!this.enabled) {\n      return\n    }\n    this._console.log(`${PREFIX}[Log]:`, ...args)\n  }\n  warn(...args: any[]): void {\n    if (!this.enabled) {\n      return\n    }\n    this._console.warn(`${PREFIX}[Warn]:`, ...args)\n  }\n\n  /**\n   * error不需要开启enable也要打印出来，提示用户错误信息\n   *\n   * @param {...any[]} args\n   * @memberof Logger\n   */\n  error(...args: any[]): void {\n    this._console.error(`${PREFIX}[Error]:`, ...args)\n  }\n}\n\nconst logger = _support.logger || (_support.logger = new Logger())\nexport { logger }\n","import { IAnyObject } from '@wtjs/types'\nimport { globalVar, ToStringTypes } from '@wtjs/shared'\nimport { logger } from './logger'\nimport { nativeToString, variableTypeDetection } from './is'\nimport { isWxMiniEnv, isBrowserEnv } from './global'\n\nexport function getLocationHref(): string {\n  if (typeof document === 'undefined' || document.location == null) return ''\n  return document.location.href\n}\n\nexport function getUrlWithEnv(): string {\n  if (isWxMiniEnv) return getCurrentRoute()\n  if (isBrowserEnv) return getLocationHref()\n  return ''\n}\n\n// 用到所有事件的名称\ntype TotalEventName = keyof GlobalEventHandlersEventMap | keyof XMLHttpRequestEventTargetEventMap | keyof WindowEventMap\n\n/**\n * 添加事件监听器\n *\n * @export\n * @param {{ addEventListener: Function }} target 目标对象\n * @param {TotalEventName} eventName 目标对象上的事件名\n * @param {Function} handler 回调函数\n * @param {(boolean | unknown)} [opitons=false] useCapture默认为false\n */\nexport function on(\n  target: { addEventListener: Function },\n  eventName: TotalEventName,\n  handler: Function,\n  opitons: boolean | unknown = false\n): void {\n  target.addEventListener(eventName, handler, opitons)\n}\n\n/**\n * 重写对象上面的某个属性\n *\n * @export\n * @param {IAnyObject} source 需要被重写的对象\n * @param {string} name 需要被重写对象的key\n * @param {(...args: any[]) => any} replacement 以原有的函数作为参数，执行并重写原有函数\n * @param {boolean} [isForced=false] 是否强制重写（可能原先没有该属性）\n */\nexport function replaceOld(source: IAnyObject, name: string, replacement: (...args: any[]) => any, isForced = false): void {\n  if (source === undefined) return\n  if (name in source || isForced) {\n    const original = source[name]\n    const wrapped = replacement(original)\n    if (typeof wrapped === 'function') {\n      source[name] = wrapped\n    }\n  }\n}\n\n/**\n * 用&分割对象，返回a=1&b=2\n * ../param obj 需要拼接的对象\n */\n// export function splitObjToQuery(obj: Record<string, unknown>): string {\n//   return Object.entries(obj).reduce((result, [key, value], index) => {\n//     if (index !== 0) {\n//       result += '&'\n//     }\n//     const valueStr = variableTypeDetection.isObject(value) || variableTypeDetection.isArray(value) ? JSON.stringify(value) : value\n//     result += `${key}=${valueStr}`\n//     return result\n//   }, '')\n// }\n\nexport const defaultFunctionName = '<anonymous>'\n/**\n * 需要获取函数名，匿名则返回<anonymous>\n * ../param {unknown} fn 需要获取函数名的函数本体\n * ../returns 返回传入的函数的函数名\n */\nexport function getFunctionName(fn: unknown): string {\n  if (!fn || typeof fn !== 'function') {\n    return defaultFunctionName\n  }\n  return fn.name || defaultFunctionName\n}\n\n// 函数防抖\n/**\n *\n * ../param fn 需要防抖的函数\n * ../param delay 防抖的时间间隔\n * ../param isImmediate 是否需要立即执行，默认为false，第一次是不执行的\n * ../returns 返回一个包含防抖功能的函数\n */\n// export const debounce = (fn: voidFun, delay: number, isImmediate = false): voidFun => {\n//   let timer = null\n//   return function (...args: any) {\n//     if (isImmediate) {\n//       fn.apply(this, args)\n//       isImmediate = false\n//       return\n//     }\n//     clearTimeout(timer)\n//     timer = setTimeout(() => {\n//       fn.apply(this, args)\n//     }, delay)\n//   }\n// }\n\n/**\n * 函数节流\n *\n * @export\n * @param {Function} fn 需要节流的函数\n * @param {number} delay 节流的时间间隔\n * @return {*}  {Function} 返回一个包含节流功能的函数\n */\nexport function throttle(fn: Function, delay: number): Function {\n  let canRun = true\n  return function (...args: any) {\n    if (!canRun) return\n    fn.apply(this, args)\n    canRun = false\n    setTimeout(() => {\n      canRun = true\n    }, delay)\n  }\n}\n\n/**\n * 原子字符中是否包含目标字符\n *\n * @export\n * @param {string} origin 原字符\n * @param {string} target 目标字符\n * @return {*}  {boolean}\n */\nexport function isInclude(origin: string, target: string): boolean {\n  return !!~origin.indexOf(target)\n}\n\n/**\n * 获取当前的时间戳\n *\n * @export\n * @return {*}  {number}\n */\nexport function getTimestamp(): number {\n  return Date.now()\n}\n\nexport function toStringAny(target: any, type: ToStringTypes): boolean {\n  return nativeToString.call(target) === `[object ${type}]`\n}\n\nexport function toStringValidateOption(target: any, targetName: string, expectType: ToStringTypes): boolean {\n  if (toStringAny(target, expectType)) return true\n  typeof target !== 'undefined' && logger.error(`${targetName}期望传入:${expectType}类型，当前是:${nativeToString.call(target)}类型`)\n  return false\n}\n\n/**\n * 如果用户输入console，并且logger是打开的会造成无限递归，执行callback前，会把监听console的行为关掉\n *\n * @export\n * @param {Function} callback\n */\nexport function silentConsoleScope(callback: Function) {\n  globalVar.isLogAddBreadcrumb = false\n  callback()\n  globalVar.isLogAddBreadcrumb = true\n}\n\nexport function generateUUID(): string {\n  let d = new Date().getTime()\n  const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (d + Math.random() * 16) % 16 | 0\n    d = Math.floor(d / 16)\n    return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16)\n  })\n  return uuid\n}\n\nexport function unknownToString(target: unknown): string {\n  if (variableTypeDetection.isString(target)) {\n    return target as string\n  }\n  if (variableTypeDetection.isUndefined(target)) {\n    return 'undefined'\n  }\n  return JSON.stringify(target)\n}\n\nexport function getBigVersion(version: string) {\n  return Number(version.split('.')[0])\n}\n\n/**\n * 给url添加query\n * @param url\n * @param query\n */\nexport function setUrlQuery(url: string, query: object) {\n  const queryArr = []\n  Object.keys(query).forEach((k) => {\n    queryArr.push(`${k}=${query[k]}`)\n  })\n  if (url.indexOf('?') !== -1) {\n    url = `${url}&${queryArr.join('&')}`\n  } else {\n    url = `${url}?${queryArr.join('&')}`\n  }\n  return url\n}\n\nexport function interceptStr(str: string, interceptLength: number): string {\n  if (variableTypeDetection.isString(str)) {\n    return str.slice(0, interceptLength) + (str.length > interceptLength ? `;slice the first ${interceptLength} characters` : '')\n  }\n  return ''\n}\n\n/**\n * 获取wx当前route的方法\n * 必须是在进入Page或Component构造函数内部才能够获取到currentPages\n * 否则都是在注册Page和Component时执行的代码，此时url默认返回'App'\n */\nexport function getCurrentRoute() {\n  //@ts-ignore\n  if (!variableTypeDetection.isFunction(getCurrentPages)) {\n    return ''\n  }\n  //@ts-ignore\n  const pages = getCurrentPages() // 在App里调用该方法，页面还没有生成，长度为0\n  if (!pages.length) {\n    return 'App'\n  }\n  const currentPage = pages.pop()\n  return setUrlQuery(currentPage.route, currentPage.options)\n}\n\n/**\n *将传入的字符串的首字母改为大写，其他不变\n *\n * @export\n * @param {string} str 原字符\n * @return {*}  {string}\n * @example xhr => Xhr\n */\nexport function firstStrtoUppercase(str: string): string {\n  return str.replace(/\\b(\\w)(\\w*)/g, function ($0: string, $1: string, $2: string) {\n    return `${$1.toUpperCase()}${$2}`\n  })\n}\n\n/**\n *将传入的字符串的首字母改为小写，其他不变\n *\n * @export\n * @param {string} str 原字符\n * @return {*}  {string}\n * @example Xhr => xhr\n */\nexport function firstStrtoLowerCase(str: string): string {\n  return str.replace(/\\b(\\w)(\\w*)/g, function ($0: string, $1: string, $2: string) {\n    return `${$1.toLowerCase()}${$2}`\n  })\n}\n\n/**\n * 安全的转换对象，包括循环引用，如果是循环引用就返回Circular\n *\n * @export\n * @param {object} obj 需要转换的对象\n * @return {*}  {string}\n */\nexport function safeStringify(obj: object): string {\n  const set = new Set()\n  const str = JSON.stringify(obj, function (_key, value) {\n    if (set.has(value)) {\n      return 'Circular'\n    }\n    typeof value === 'object' && set.add(value)\n    return value\n  })\n  set.clear()\n  return str\n}\n\n/**\n * 解决Vue3抛出的proxy对象循环引用的问题\n *\n * @export\n * @template T\n * @param {IAnyObject} obj\n * @return {*}  {T}\n */\nexport function getObjectWithForIn<T = IAnyObject>(obj: IAnyObject): T {\n  if (!variableTypeDetection.isObject(obj)) return obj as unknown as T\n  const result = {}\n  for (const key in obj) {\n    result[key] = obj[key]\n  }\n  return result as T\n}\n\nexport function validateOptionsAndSet(this: any, targetArr: [any, string, ToStringTypes][]) {\n  targetArr.forEach(\n    ([target, targetName, expectType]) => toStringValidateOption(target, targetName, expectType) && (this[targetName] = target)\n  )\n}\n\nexport function sleepRun(fn: () => void, delay = 200) {\n  setTimeout(() => {\n    fn()\n  }, delay)\n}\n","import { BREADCRUMBCATEGORYS, BrowserBreadcrumbTypes, ErrorTypes } from '@wtjs/shared'\nimport { getTimestamp, getUrlWithEnv } from './helpers'\nimport { Severity } from './Severity'\n\n/**\n * 返回包含id、class、innerTextde字符串的标签\n * @param target html节点\n */\nexport function htmlElementAsString(target: HTMLElement): string {\n  const tagName = target.tagName.toLowerCase()\n  if (tagName === 'body') {\n    return null\n  }\n  let classNames = target.classList.value\n  classNames = classNames !== '' ? ` class=\"${classNames}\"` : ''\n  const id = target.id ? ` id=\"${target.id}\"` : ''\n  const innerText = target.innerText\n  return `<${tagName}${id}${classNames !== '' ? classNames : ''}>${innerText}</${tagName}>`\n}\n\n/**\n * 将地址字符串转换成对象\n * @returns 返回一个对象\n */\nexport function parseUrlToObj(url: string): {\n  host?: string\n  path?: string\n  protocol?: string\n  relative?: string\n} {\n  if (!url) {\n    return {}\n  }\n\n  // eslint-disable-next-line no-useless-escape\n  const match = url.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/)\n\n  if (!match) {\n    return {}\n  }\n\n  const query = match[6] || ''\n  const fragment = match[8] || ''\n  return {\n    host: match[4],\n    path: match[5],\n    protocol: match[2],\n    relative: match[5] + query + fragment // everything minus origin\n  }\n}\n\n/**\n * 根据browser行为类型返回种类\n *\n * @export\n * @param {BrowserBreadcrumbTypes} type\n * @return {*}  {BREADCRUMBCATEGORYS}\n */\nexport function getBreadcrumbCategoryInBrowser(type: BrowserBreadcrumbTypes): BREADCRUMBCATEGORYS {\n  switch (type) {\n    case BrowserBreadcrumbTypes.XHR:\n    case BrowserBreadcrumbTypes.FETCH:\n      return BREADCRUMBCATEGORYS.HTTP\n    case BrowserBreadcrumbTypes.CLICK:\n    case BrowserBreadcrumbTypes.ROUTE:\n      return BREADCRUMBCATEGORYS.USER\n    case BrowserBreadcrumbTypes.CUSTOMER:\n    case BrowserBreadcrumbTypes.CONSOLE:\n      return BREADCRUMBCATEGORYS.DEBUG\n    case BrowserBreadcrumbTypes.UNHANDLEDREJECTION:\n    case BrowserBreadcrumbTypes.CODE_ERROR:\n    case BrowserBreadcrumbTypes.RESOURCE:\n    default:\n      return BREADCRUMBCATEGORYS.EXCEPTION\n  }\n}\n\n/**\n * 解析error的stack，并返回args、column、line、func、url:\n * wx AppOnError use too\n * @param ex\n * @param level\n */\nexport function extractErrorStack(ex: any, level: Severity) {\n  const normal = {\n    time: getTimestamp(),\n    url: getUrlWithEnv(),\n    name: ex.name,\n    level,\n    message: ex.message\n  }\n  if (typeof ex.stack === 'undefined' || !ex.stack) {\n    return normal\n  }\n\n  const chrome =\n      /^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,\n    gecko =\n      /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\\[native).*?|[^@]*bundle)(?::(\\d+))?(?::(\\d+))?\\s*$/i,\n    winjs = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i,\n    // Used to additionally parse URL/line/column from eval frames\n    geckoEval = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,\n    chromeEval = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,\n    lines = ex.stack.split('\\n'),\n    stack = []\n\n  let submatch, parts, element\n  // reference = /^(.*) is undefined$/.exec(ex.message)\n\n  for (let i = 0, j = lines.length; i < j; ++i) {\n    if ((parts = chrome.exec(lines[i]))) {\n      const isNative = parts[2] && parts[2].indexOf('native') === 0 // start of line\n      const isEval = parts[2] && parts[2].indexOf('eval') === 0 // start of line\n      if (isEval && (submatch = chromeEval.exec(parts[2]))) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1] // url\n        parts[3] = submatch[2] // line\n        parts[4] = submatch[3] // column\n      }\n      element = {\n        url: !isNative ? parts[2] : null,\n        func: parts[1] || ErrorTypes.UNKNOWN_FUNCTION,\n        args: isNative ? [parts[2]] : [],\n        line: parts[3] ? +parts[3] : null,\n        column: parts[4] ? +parts[4] : null\n      }\n    } else if ((parts = winjs.exec(lines[i]))) {\n      element = {\n        url: parts[2],\n        func: parts[1] || ErrorTypes.UNKNOWN_FUNCTION,\n        args: [],\n        line: +parts[3],\n        column: parts[4] ? +parts[4] : null\n      }\n    } else if ((parts = gecko.exec(lines[i]))) {\n      const isEval = parts[3] && parts[3].indexOf(' > eval') > -1\n      if (isEval && (submatch = geckoEval.exec(parts[3]))) {\n        // throw out eval line/coluqqqqqqqqqqqqqqqqqqqqqqqqqqqqmn and use top-most line number\n        parts[3] = submatch[1]\n        parts[4] = submatch[2]\n        parts[5] = null // no column when eval\n      } else if (i === 0 && !parts[5] && typeof ex.columnNumber !== 'undefined') {\n        // FireFox uses this awesome columnNumber property for its top frame\n        // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n        // so adding 1\n        // NOTE: this hack doesn't work if top-most frame is eval\n        stack[0].column = ex.columnNumber + 1\n      }\n      element = {\n        url: parts[3],\n        func: parts[1] || ErrorTypes.UNKNOWN_FUNCTION,\n        args: parts[2] ? parts[2].split(',') : [],\n        line: parts[4] ? +parts[4] : null,\n        column: parts[5] ? +parts[5] : null\n      }\n    } else {\n      continue\n    }\n\n    if (!element.func && element.line) {\n      element.func = ErrorTypes.UNKNOWN_FUNCTION\n    }\n\n    stack.push(element)\n  }\n\n  if (!stack.length) {\n    return null\n  }\n  return {\n    ...normal,\n    stack: stack\n  }\n}\n","/**\n * 原生try函数\n * ../param fn try中执行的函数体\n * ../param errorFn 报错时执行的函数体，将err传入\n */\nexport function nativeTryCatch(fn: () => void, errorFn?: (err: any) => void): void {\n  try {\n    fn()\n  } catch (err) {\n    console.error('err', err)\n    if (errorFn) {\n      errorFn(err)\n    }\n  }\n}\n","import { _global } from './global'\nexport class Queue {\n  private readonly micro: Promise<void>\n  private stack: any[] = []\n  private isFlushing = false\n  constructor() {\n    if (!('Promise' in _global)) return\n    this.micro = Promise.resolve()\n  }\n  addTask(fn: () => void): void {\n    if (typeof fn !== 'function') return\n    if (!('Promise' in _global)) {\n      fn()\n      return\n    }\n    this.stack.push(fn)\n    if (!this.isFlushing) {\n      this.isFlushing = true\n      this.micro.then(() => this.flushStack())\n    }\n  }\n  clear() {\n    this.stack = []\n  }\n  getStack() {\n    return this.stack\n  }\n  flushStack(): void {\n    const temp = this.stack.slice(0)\n    this.stack.length = 0\n    this.isFlushing = false\n    for (const fn of temp) {\n      fn()\n    }\n  }\n  // rollup queue\n}\n","/** 等级程度枚举 */\nexport enum Severity {\n  Else = 'else',\n  Error = 'error',\n  Warning = 'warning',\n  Info = 'info',\n  Debug = 'debug',\n  /** 上报的错误等级 */\n  Low = 'low',\n  Normal = 'normal',\n  High = 'high',\n  Critical = 'critical'\n}\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace Severity {\n  /**\n   * Converts a string-based level into a {@link Severity}.\n   *\n   * @param level string representation of Severity\n   * @returns Severity\n   */\n  export function fromString(level: string): Severity {\n    switch (level) {\n      case 'debug':\n        return Severity.Debug\n      case 'info':\n      case 'log':\n      case 'assert':\n        return Severity.Info\n      case 'warn':\n      case 'warning':\n        return Severity.Warning\n      case Severity.Low:\n      case Severity.Normal:\n      case Severity.High:\n      case Severity.Critical:\n      case 'error':\n        return Severity.Error\n      default:\n        return Severity.Else\n    }\n  }\n}\n","export const enum SpanStatus {\n  /** The operation completed successfully. */\n  Ok = 'ok',\n  /** Deadline expired before operation could complete. */\n  DeadlineExceeded = 'deadline_exceeded',\n  /** 401 Unauthorized (actually does mean unauthenticated according to RFC 7235) */\n  Unauthenticated = 'unauthenticated',\n  /** 403 Forbidden */\n  PermissionDenied = 'permission_denied',\n  /** 404 Not Found. Some requested entity (file or directory) was not found. */\n  NotFound = 'not_found',\n  /** 429 Too Many Requests */\n  ResourceExhausted = 'resource_exhausted',\n  /** Client specified an invalid argument. 4xx. */\n  InvalidArgument = 'invalid_argument',\n  /** 501 Not Implemented */\n  Unimplemented = 'unimplemented',\n  /** 503 Service Unavailable */\n  Unavailable = 'unavailable',\n  /** Other/generic 5xx. */\n  InternalError = 'internal_error',\n  /** Unknown. Any non-standard HTTP status code. */\n  UnknownError = 'unknown_error',\n  /** The operation was cancelled (typically by the user). */\n  Cancelled = 'cancelled',\n  /** Already exists (409) */\n  AlreadyExists = 'already_exists',\n  /** Operation was rejected because the system is not in a state required for the operation's */\n  FailedPrecondition = 'failed_precondition',\n  /** The operation was aborted, typically due to a concurrency issue. */\n  Aborted = 'aborted',\n  /** Operation was attempted past the valid range. */\n  OutOfRange = 'out_of_range',\n  /** Unrecoverable data loss or corruption */\n  DataLoss = 'data_loss'\n}\n\nexport function fromHttpStatus(httpStatus: number) {\n  if (httpStatus < 400) {\n    return SpanStatus.Ok\n  }\n\n  if (httpStatus >= 400 && httpStatus < 500) {\n    switch (httpStatus) {\n      case 401:\n        return SpanStatus.Unauthenticated\n      case 403:\n        return SpanStatus.PermissionDenied\n      case 404:\n        return SpanStatus.NotFound\n      case 409:\n        return SpanStatus.AlreadyExists\n      case 413:\n        return SpanStatus.FailedPrecondition\n      case 429:\n        return SpanStatus.ResourceExhausted\n      default:\n        return SpanStatus.InvalidArgument\n    }\n  }\n\n  if (httpStatus >= 500 && httpStatus < 600) {\n    switch (httpStatus) {\n      case 501:\n        return SpanStatus.Unimplemented\n      case 503:\n        return SpanStatus.Unavailable\n      case 504:\n        return SpanStatus.DeadlineExceeded\n      default:\n        return SpanStatus.InternalError\n    }\n  }\n\n  return SpanStatus.UnknownError\n}\n","import { ReportDataType } from '@wtjs/types'\nimport { BrowserEventTypes, ErrorTypes } from '@wtjs/shared'\nimport { variableTypeDetection } from './is'\nconst allErrorNumber: unknown = {}\n/**\n * generate error unique Id\n *\n * @export\n * @param {ReportDataType} data 上报的数据结构\n * @param {string} apikey 项目的唯一key\n * @param {number} maxDuplicateCount init配置项，最多可重复上报同一个错误的次数\n * @return {*}  {(number | null)}\n */\nexport function createErrorId(data: ReportDataType, apikey: string, maxDuplicateCount: number): number | null {\n  let id: any\n  switch (data.type) {\n    case ErrorTypes.HTTP:\n      id = data.type + data.request.method + data.response.status + getRealPath(data.request.url) + apikey\n      break\n    case ErrorTypes.JAVASCRIPT:\n    case ErrorTypes.VUE:\n    case ErrorTypes.REACT:\n      id = data.type + data.name + data.message + apikey\n      break\n    case ErrorTypes.LOG:\n      id = data.customTag + data.type + data.name + apikey\n      break\n    case ErrorTypes.PROMISE:\n      id = generatePromiseErrorId(data, apikey)\n      break\n    default:\n      id = data.type + data.message + apikey\n      break\n  }\n  id = hashCode(id)\n  if (allErrorNumber[id] >= maxDuplicateCount) {\n    return null\n  }\n  if (typeof allErrorNumber[id] === 'number') {\n    allErrorNumber[id]++\n  } else {\n    allErrorNumber[id] = 1\n  }\n\n  return id\n}\n/**\n * 如果是UNHANDLEDREJECTION，则按照项目apikey来生成\n * 如果是其他的，按照当前页面来生成\n * @param data\n * @param originUrl\n */\nfunction generatePromiseErrorId(data: ReportDataType, apikey: string) {\n  const locationUrl = getRealPath(data.url)\n  if (data.name === BrowserEventTypes.UNHANDLEDREJECTION) {\n    return data.type + stringToObjAndOrder(data.message) + apikey\n  }\n  return data.type + data.name + stringToObjAndOrder(data.message) + locationUrl\n}\n\nexport function sortObjByKey<T = object>(obj: T): T {\n  return Object.keys(obj)\n    .sort()\n    .reduce((total, key) => {\n      if (variableTypeDetection.isObject(obj[key])) {\n        total[key] = sortObjByKey(obj[key])\n      } else {\n        total[key] = obj[key]\n      }\n      return total\n    }, {}) as T\n}\n\n/**\n * sort object keys\n * ../param reason promise.reject\n */\nexport function stringToObjAndOrder(reason: string) {\n  try {\n    if (/\\{.*\\}/.test(reason)) {\n      let obj = JSON.parse(reason)\n      obj = sortObjByKey(obj)\n      return JSON.stringify(obj)\n    }\n    return reason\n  } catch (error) {\n    return reason\n  }\n}\n\n/**\n *\n * 获取去掉query后的地主\n * @export\n * @param {string} url 地址\n * @return {*}  {string}\n * @example http://.../project?id=1#a => http://.../project  http://.../id/123=> http://.../id/{param}\n */\nexport function getRealPath(url: string): string {\n  return url\n    .replace(/[?#].*$/, '')\n    .replace(/\\/(\\d+)\\//g, '/{param}/$1')\n    .replace(/\\/\\d+([/]*$)/g, '/{param}$1')\n}\n\n/**\n *\n * @param url\n */\nexport function getFlutterRealOrigin(url: string): string {\n  // for apple\n  return removeHashPath(getFlutterRealPath(url))\n}\n\n/**\n * 获取flutter的原始地址：每个用户的文件夹hash不同\n * @param url\n */\nexport function getFlutterRealPath(url: string): string {\n  // for apple\n  return url.replace(/(\\S+)(\\/Documents\\/)(\\S*)/, `$3`)\n}\n\nexport function removeHashPath(url: string): string {\n  return url.replace(/(\\S+)(\\/#\\/)(\\S*)/, `$1`)\n}\n\n/**\n * 根据字符串生成hashcode\n *\n * @export\n * @param {string} str\n * @return {*}  {number} 可为正数和负数\n */\nexport function hashCode(str: string): number {\n  let hash = 0\n  if (str.length == 0) return hash\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i)\n    hash = (hash << 5) - hash + char\n    hash = hash & hash\n  }\n  return hash\n}\n","import { BREADCRUMBCATEGORYS, WxBreadcrumbTypes, ErrorTypes } from '@wtjs/shared'\nimport { WxParsedErrorType } from '@wtjs/types'\n\n/**\n * 解析字符串错误信息，返回message、name、stack\n * @param str error string\n */\nexport function parseErrorString(str: string): WxParsedErrorType {\n  const splitLine: string[] = str.split('\\n')\n  if (splitLine.length < 2) return null\n  if (splitLine[0].indexOf('MiniProgramError') !== -1) {\n    splitLine.splice(0, 1)\n  }\n  const message = splitLine.splice(0, 1)[0]\n  const name = splitLine.splice(0, 1)[0].split(':')[0]\n  const stack = []\n  splitLine.forEach((errorLine: string) => {\n    const regexpGetFun = /at\\s+([\\S]+)\\s+\\(/ // 获取 [ 函数名 ]\n    const regexGetFile = /\\(([^)]+)\\)/ // 获取 [ 有括号的文件 , 没括号的文件 ]\n    const regexGetFileNoParenthese = /\\s+at\\s+(\\S+)/ // 获取 [ 有括号的文件 , 没括号的文件 ]\n\n    const funcExec = regexpGetFun.exec(errorLine)\n    let fileURLExec = regexGetFile.exec(errorLine)\n    if (!fileURLExec) {\n      // 假如为空尝试解析无括号的URL\n      fileURLExec = regexGetFileNoParenthese.exec(errorLine)\n    }\n\n    const funcNameMatch = Array.isArray(funcExec) && funcExec.length > 0 ? funcExec[1].trim() : ''\n    const fileURLMatch = Array.isArray(fileURLExec) && fileURLExec.length > 0 ? fileURLExec[1] : ''\n    const lineInfo = fileURLMatch.split(':')\n    stack.push({\n      args: [], // 请求参数\n      func: funcNameMatch || ErrorTypes.UNKNOWN_FUNCTION, // 前端分解后的报错\n      column: Number(lineInfo.pop()), // 前端分解后的列\n      line: Number(lineInfo.pop()), // 前端分解后的行\n      url: lineInfo.join(':') // 前端分解后的URL\n    })\n  })\n  return {\n    message,\n    name,\n    stack\n  }\n}\n\n/**\n * 根据wx行为类型返回种类\n *\n * @export\n * @param {WxBreadcrumbTypes} type\n * @return {*}  {BREADCRUMBCATEGORYS}\n */\nexport function getBreadcrumbCategoryInWx(type: WxBreadcrumbTypes): BREADCRUMBCATEGORYS {\n  switch (type) {\n    case WxBreadcrumbTypes.XHR:\n      return BREADCRUMBCATEGORYS.HTTP\n    case WxBreadcrumbTypes.ROUTE:\n    case WxBreadcrumbTypes.TAP:\n    case WxBreadcrumbTypes.TOUCHMOVE:\n      return BREADCRUMBCATEGORYS.USER\n    case WxBreadcrumbTypes.CUSTOMER:\n    case WxBreadcrumbTypes.CONSOLE:\n      return BREADCRUMBCATEGORYS.DEBUG\n    case WxBreadcrumbTypes.APP_ON_LAUNCH:\n    case WxBreadcrumbTypes.APP_ON_SHOW:\n    case WxBreadcrumbTypes.APP_ON_HIDE:\n    case WxBreadcrumbTypes.PAGE_ON_LOAD:\n    case WxBreadcrumbTypes.PAGE_ON_SHOW:\n    case WxBreadcrumbTypes.PAGE_ON_READY:\n    case WxBreadcrumbTypes.PAGE_ON_HIDE:\n    case WxBreadcrumbTypes.PAGE_ON_SHARE_APP_MESSAGE:\n    case WxBreadcrumbTypes.PAGE_ON_SHARE_TIMELINE:\n    case WxBreadcrumbTypes.PAGE_ON_TAB_ITEM_TAP:\n      return BREADCRUMBCATEGORYS.LIFECYCLE\n    case WxBreadcrumbTypes.UNHANDLEDREJECTION:\n    case WxBreadcrumbTypes.CODE_ERROR:\n    case WxBreadcrumbTypes.RESOURCE:\n    case WxBreadcrumbTypes.VUE:\n    case WxBreadcrumbTypes.REACT:\n    default:\n      return BREADCRUMBCATEGORYS.EXCEPTION\n  }\n}\n\nexport function getAppId() {\n  //@ts-ignore\n  return wx.getAccountInfoSync().miniProgram.appId\n}\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_arrayLikeToArray","arr","len","length","arr2","Array","_slicedToArray","isArray","arrayWithHoles","l","n","u","a","f","next","done","push","iterableToArrayLimit","minLen","arrayLikeToArray","toString","slice","name","from","test","unsupportedIterableToArray","nonIterableRest","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","_createClass","protoProps","staticProps","nativeToString","isType","type","concat","variableTypeDetection","isNumber","isString","isBoolean","isNull","isUndefined","isSymbol","isFunction","isObject","isProcess","isWindow","isError","wat","isInstanceOf","Error","isEmptyObject","keys","isEmpty","trim","base","_e","isExistProperty","hasOwnProperty","isNodeEnv","process","isWxMiniEnv","wx","App","isBrowserEnv","window","getGlobal","_global","_support","__MITO__","supportsHistory","chrome","isChromePackagedApp","app","runtime","hasHistoryApi","history","pushState","replaceState","PREFIX","Logger","_this","this","console","forEach","level","_console","enabled","debug","_this$_console","_len","arguments","args","_key","log","apply","_this$_console2","_len2","_key2","warn","_this$_console3","_len3","_key3","error","logger","getLocationHref","document","location","href","getUrlWithEnv","getCurrentRoute","on","eventName","handler","opitons","undefined","addEventListener","replaceOld","source","replacement","wrapped","defaultFunctionName","getFunctionName","fn","throttle","delay","canRun","setTimeout","isInclude","origin","indexOf","getTimestamp","Date","now","toStringAny","toStringValidateOption","targetName","expectType","silentConsoleScope","callback","generateUUID","d","getTime","replace","c","Math","random","floor","unknownToString","JSON","stringify","getBigVersion","version","split","setUrlQuery","url","query","queryArr","k","join","interceptStr","str","interceptLength","getCurrentPages","pages","currentPage","pop","route","options","firstStrtoUppercase","$0","$1","$2","toUpperCase","firstStrtoLowerCase","toLowerCase","safeStringify","set","Set","has","add","clear","getObjectWithForIn","result","validateOptionsAndSet","targetArr","_ref","_ref2","sleepRun","htmlElementAsString","tagName","classNames","classList","id","innerText","parseUrlToObj","match","fragment","host","path","protocol","relative","getBreadcrumbCategoryInBrowser","extractErrorStack","ex","normal","time","message","stack","submatch","parts","element","gecko","winjs","geckoEval","chromeEval","lines","j","exec","isNative","func","line","column","columnNumber","_objectSpread","nativeTryCatch","errorFn","err","Severity","Queue","micro","Promise","resolve","isFlushing","then","flushStack","temp","_step","_iterator","_createForOfIteratorHelper","s","fromHttpStatus","httpStatus","fromString","Debug","Info","Warning","Low","Normal","High","Critical","Else","allErrorNumber","createErrorId","data","apikey","maxDuplicateCount","request","method","response","status","getRealPath","customTag","locationUrl","stringToObjAndOrder","generatePromiseErrorId","hashCode","sortObjByKey","sort","reduce","total","reason","parse","getFlutterRealOrigin","removeHashPath","getFlutterRealPath","hash","charCodeAt","parseErrorString","splitLine","splice","errorLine","funcExec","fileURLExec","funcNameMatch","lineInfo","getBreadcrumbCategoryInWx","getAppId","getAccountInfoSync","miniProgram","appId"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11]}